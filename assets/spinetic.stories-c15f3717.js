import{j as l,a as mt,F as wt}from"./jsx-runtime-29545a09.js";import{r}from"./index-76fb7be0.js";import{v as P,_ as vt,a as _t}from"./argTypes-17183219.js";import{M as yt,e as It,C as bt}from"./documentation-30db7b01.js";import"./_commonjsHelpers-de833af9.js";import"./index-afffe84a.js";import"./iframe-17e44a1f.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const xt=()=>l("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),St=()=>l("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Tt=({children:t,currentConfig:e,currentIndex:i,remainingIndexes:s,onClickPreviousItem:m,onClickNextItem:d})=>{const w=e.arrows&&(s==null?void 0:s.length)>1,n=i===0,f=n&&(e==null?void 0:e.hideArrows),p=i===(s==null?void 0:s.length)-1,T=p&&(e==null?void 0:e.hideArrows);return mt("div",{className:"spinetic-container-arrows",children:[w&&l("div",{className:"spinetic-btn-prev",children:l("button",{className:"spinetic-navigation-button",onClick:()=>m(),disabled:n,style:{right:`${e.positionArrowLeft}px`,display:f?"none":"flex"},children:l(xt,{})})}),t,w&&l("div",{className:"spinetic-btn-next",children:l("button",{className:"spinetic-navigation-button",onClick:()=>d(),disabled:p,style:{left:e.autoWidth?`${e.positionArrowRight+4}px`:`${e.positionArrowRight}px`,display:T?"none":"flex"},children:l(St,{})})})]})};try{spineticarrows.displayName="spineticarrows",spineticarrows.__docgenInfo={description:"",displayName:"spineticarrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const At=({currentConfig:t,currentIndex:e,maxCarouselItems:i,remainingIndexes:s,goToItem:m})=>{const d=t.dots&&(s==null?void 0:s.length)>1;return l(wt,{children:d&&l("div",{className:"spinetic-dots",children:s==null?void 0:s.map((w,n)=>l("span",{className:`${t.dotsModel} ${n===e?`active-${t.dotsModel}`:""}`,onClick:()=>m(n),children:t.indexInDots&&l("span",{children:n+1+(i-(s==null?void 0:s.length))})},n))})})};try{spineticdots.displayName="spineticdots",spineticdots.__docgenInfo={description:"",displayName:"spineticdots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Wt=t=>{let e=t;for(;e&&e!==(document==null?void 0:document.documentElement);){if(e.classList&&e.classList.contains("spinetic-item"))return e;e=e.parentElement}return null},kt=t=>{const e=t==null?void 0:t.reduce((i,s)=>i+s,0);return Math.floor(e)},ht=(t,e)=>{var i;return Math.floor((i=t==null?void 0:t.slice(0,e))==null?void 0:i.reduce((s,m)=>s-m,0))},Nt=({currentConfig:t,remainingIndexes:e,spineticContainer:i,_carouselItemsWidths:s,currentIndex:m,_setCarouselContainerTransform:d,previousItem:w,nextItem:n,_handleItemChange:f})=>{const[p,T]=r.useState(0),[_,N]=r.useState(0),[L,b]=r.useState(0),[R,F]=r.useState(!1),[q,U]=r.useState(!1),[y,E]=r.useState(null),[x,$]=r.useState(null),A=()=>{const u="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;U(u?!1:!(t!=null&&t.draggable))};return{start:u=>{var W;if((e==null?void 0:e.length)<=1||(A(),q||t.verticalAlign))return;u.stopPropagation();let a=(W=u==null?void 0:u.touches)==null?void 0:W[0];T((u==null?void 0:u.pageX)||(a==null?void 0:a.pageX)),N(a==null?void 0:a.clientX),b(a==null?void 0:a.clientY),F(!0),E(Wt(u.target)),i==null||i.current.classList.add("spinetic-no-transition")},move:u=>{var H;let a=(H=u==null?void 0:u.touches)==null?void 0:H[0],W=a==null?void 0:a.clientX,J=a==null?void 0:a.clientY,X=Math.abs(W-_),k=Math.abs(J-L),j=q||!R;if(!(k>30||j||t.verticalAlign)&&(X>k&&X>20||!a)){u.stopPropagation();const z=((u==null?void 0:u.pageX)||(a==null?void 0:a.pageX)-(i==null?void 0:i.current.scrollLeft))-p;$(z);let V=ht(s,m);V+=z,(X>20||!a)&&d(V),x&&Math.abs(x)>(t==null?void 0:t.touchThreshold)&&y&&y.classList.add("no-click")}},end:u=>{var a;F(!1),!(q||t.verticalAlign)&&(u.stopPropagation(),i==null||i.current.classList.remove("spinetic-no-transition"),x&&Math.abs(x)>(t==null?void 0:t.touchThreshold)&&(x>0?w():n()),(a=y==null?void 0:y.classList)==null||a.remove("no-click"),$(null),f())}}},Lt=({children:t,config:e=vt,change:i})=>{var V;const s=r.useRef(null),m=r.useRef(null),[d,w]=r.useState(P(e)),[n,f]=r.useState(0),[p,T]=r.useState([]),[_,N]=r.useState([]),[L,b]=r.useState(!0),[R,F]=r.useState(window==null?void 0:window.innerWidth),[q,U]=r.useState({previous:{index:n,remainingIndexes:p,totalItems:r.Children.count(t)},current:{index:n,remainingIndexes:p,totalItems:r.Children.count(t)}});r.useEffect(()=>{E(e),w(P(e)),console.log("ðŸš€ ~ config:",e)},[e]),r.useEffect(()=>j(),[p,n]),r.useEffect(()=>{i&&i(q)},[n]),r.useEffect(()=>E(e),[t,R]),r.useEffect(()=>(E(e),window.removeEventListener("resize",y),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)),[(V=m.current)==null?void 0:V.offsetWidth,R,window==null?void 0:window.innerWidth]),r.useEffect(()=>{if(d.autoRotate){const o=setInterval(()=>{f(c=>{const I=c+1,h=I>=p.length?0:I;return A({current:{index:h},previous:{index:c}}),h})},d.msPerAutoRotate);return()=>clearInterval(o)}},[p]);const y=()=>{R!==(window==null?void 0:window.innerWidth)&&(F(window==null?void 0:window.innerWidth),E(e))},E=o=>{const c=P(o),I=c.responsive?[...c.responsive.map(g=>g.breakpoint)]:[],h=window==null?void 0:window.innerWidth;if(I.forEach((g,S)=>{var v;if(h<=g){const D=(v=c==null?void 0:c.responsive[S])==null?void 0:v.settings;Object.keys(D).forEach(B=>{c[B]=D[B]})}}),c.verticalAlign){const g={...c,arrows:!1,dots:!1,draggable:!1,fullHeightItems:!1};w(P(g)),x()}else w(P(c)),x(),console.log("ðŸš€ ~ currentOrDefaultConfig:",c)},x=()=>{var st,ot;$();const o=kt(_);(st=s.current)==null||st.classList.toggle("spinetic-vertical-align",d.verticalAlign),f(0),console.log("_setCarouselWidth");let c=0,I=0,h=0;_.some(C=>{if(I+=C,I<=(s==null?void 0:s.current.offsetWidth))c++;else return C}),h=Math.max(0,r.Children.count(t)-c);let g=n,S=0;const v=C=>{C.forEach((Q,gt)=>{gt<g&&(S+=Q)})};g>h?(g=h,S=o-(s==null?void 0:s.current.offsetWidth)):v(_);const D=Array.from({length:h+1},(C,Q)=>Q+c);A({current:{index:0,remainingIndexes:D,totalItems:r.Children.count(t)},previous:{index:0,remainingIndexes:D,totalItems:r.Children.count(t)}}),T(D);const B=d.draggable&&(p==null?void 0:p.length)>1;(ot=m.current)==null||ot.classList.toggle("hasDraggable",B),o<=(s==null?void 0:s.current.offsetWidth)?k(0):k(S)},$=()=>{var g,S;const o=((g=m.current)==null?void 0:g.querySelectorAll(".spinetic-item"))??null,c=s.current.offsetWidth,I=(S=m.current)==null?void 0:S.offsetHeight,h=[];return o!==null&&o.forEach(v=>{d.autoWidth?(h.push(v.offsetWidth),v.style.width=""):(h.push(c/d.showItems),v.style.width=c/d.showItems+"px"),d.fullHeightItems?window==null||window.requestAnimationFrame(()=>{v.style.height=I+"px"}):v.style.height=""}),N(h),h},A=o=>{U(c=>({previous:{...c.previous,...o.previous},current:{...c.current,...o.current}}))},Y=o=>d.clickTransitionCtrl?L&&o:o,tt=n>0,G=()=>{if(Y(tt)){const o=n-1;A({current:{index:o},previous:{index:n}}),f(o)}},u=n<(p==null?void 0:p.length)-1,a=()=>{if(Y(u)){const o=n+1;A({current:{index:o},previous:{index:n}}),f(o)}},W=r.Children.count(t),J=o=>o>=0&&o<W,X=o=>{Y(J(o))&&(A({current:{index:o},previous:{index:n}}),f(o))},k=o=>{m.current.style.transform=`translateX(${o}px)`},j=()=>{b(!1);const o=ht(_,n);k(o),setTimeout(()=>{b(!0)},d.msPerClicks)},{start:H,move:et,end:z}=Nt({currentConfig:d,remainingIndexes:p,spineticContainer:m,_carouselItemsWidths:_,currentIndex:n,_setCarouselContainerTransform:k,previousItem:G,nextItem:a,_handleItemChange:j});return{currentConfig:d,currentIndex:n,spineticMain:s,spineticContainer:m,maxCarouselItems:W,remainingIndexes:p,goToItem:X,previousItem:G,nextItem:a,start:H,move:et,end:z}},Et=({children:t,config:e,change:i})=>{const{currentConfig:s,currentIndex:m,spineticMain:d,spineticContainer:w,maxCarouselItems:n,remainingIndexes:f,goToItem:p,previousItem:T,nextItem:_,start:N,move:L,end:b}=Lt({children:t,config:e,change:i});return mt("div",{className:"spinetic-main",ref:d,children:[l("div",{className:"spinetic-wrapper",children:l(Tt,{currentConfig:s,currentIndex:m,remainingIndexes:f,onClickPreviousItem:T,onClickNextItem:_,children:l("div",{className:"spinetic-container",ref:w,onMouseDown:N,onMouseMove:L,onMouseUp:b,onMouseLeave:b,onTouchStart:N,onTouchMove:L,onTouchEnd:b,children:t})})}),l(At,{currentConfig:s,currentIndex:m,maxCarouselItems:n,remainingIndexes:f,goToItem:p})]})};try{spinetic.displayName="spinetic",spinetic.__docgenInfo={description:"",displayName:"spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: any) => void)"}}}}}catch{}const Dt=({children:t})=>l("div",{className:"spinetic-item",children:t});try{spineticitem.displayName="spineticitem",spineticitem.__docgenInfo={description:"",displayName:"spineticitem",props:{}}}catch{}const ft=({config:t,change:e})=>(console.log("ðŸš€ ~ Spinetic ~ config:>>>[STORYBOOK]>>",t),l(Et,{config:t,change:e,children:It.map((i,s)=>l(Dt,{children:l(bt,{highlightText:!1,index:s,text:i})},s))})),zt={title:"Spinetic",parameters:{docs:{page:yt}},tags:["autodocs"],component:ft,argTypes:_t},Z=t=>l(ft,{config:t,change:t.suaFuncao}),K=Z.bind({}),M=Z.bind({});M.args={autoWidth:!0,dotsModel:"long-rounded",fullHeightItems:!0};const O=Z.bind({});O.args={autoRotate:!0,dotsModel:"long-rounded",hideArrows:!0,msPerAutoRotate:2e3,showItems:3};var rt,nt,at;K.parameters={...K.parameters,docs:{...(rt=K.parameters)==null?void 0:rt.docs,source:{originalSource:"(args: TypesConfigOptional | any) => <Spinetic config={args} change={args.suaFuncao} />",...(at=(nt=K.parameters)==null?void 0:nt.docs)==null?void 0:at.source}}};var it,lt,ct;M.parameters={...M.parameters,docs:{...(it=M.parameters)==null?void 0:it.docs,source:{originalSource:"(args: TypesConfigOptional | any) => <Spinetic config={args} change={args.suaFuncao} />",...(ct=(lt=M.parameters)==null?void 0:lt.docs)==null?void 0:ct.source}}};var ut,dt,pt;O.parameters={...O.parameters,docs:{...(ut=O.parameters)==null?void 0:ut.docs,source:{originalSource:"(args: TypesConfigOptional | any) => <Spinetic config={args} change={args.suaFuncao} />",...(pt=(dt=O.parameters)==null?void 0:dt.docs)==null?void 0:pt.source}}};const Bt=["Default","AutoWidth","AutoRotate"];export{O as AutoRotate,M as AutoWidth,K as Default,Bt as __namedExportsOrder,zt as default};
