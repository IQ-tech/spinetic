import{j as c,a as ge,F as Se,g as ye,C as _e}from"./card-example-a1cc0bc4.js";import{r}from"./index-76fb7be0.js";import{v as B,b as be,_ as Te,a as ke,h as We}from"./argTypes-a2579b91.js";import Ae from"./Playground-ed92f483.js";import"./_commonjsHelpers-de833af9.js";import"./index-6cb07a3d.js";import"./iframe-37f8bb31.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const Ee=()=>c("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:c("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:c("g",{transform:"translate(-9.672 -5.234)",children:c("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),Le=()=>c("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:c("g",{transform:"translate(-9.672 -5.234)",children:c("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Ne=({children:e,currentConfig:t,currentIndex:i,remainingIndexes:s,onClickPreviousItem:h,onClickNextItem:u})=>{const x=t.arrows&&(s==null?void 0:s.length)>1,o=i===0,v=o&&(t==null?void 0:t.hideArrows),p=i===(s==null?void 0:s.length)-1,W=p&&(t==null?void 0:t.hideArrows);return ge("div",{className:"spinetic-container-arrows",children:[x&&c("div",{className:"spinetic-btn-prev",children:c("button",{className:"spinetic-navigation-button",onClick:()=>h(),disabled:o,style:{right:`${t.arrowLeftPosition}px`,display:v?"none":"flex"},children:c(Ee,{})})}),e,x&&c("div",{className:"spinetic-btn-next",children:c("button",{className:"spinetic-navigation-button",onClick:()=>u(),disabled:p,style:{left:t.autoWidth?`${t.arrowRightPosition+4}px`:`${t.arrowRightPosition}px`,display:W?"none":"flex"},children:c(Le,{})})})]})};try{spineticarrows.displayName="spineticarrows",spineticarrows.__docgenInfo={description:"",displayName:"spineticarrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const Re=({currentConfig:e,currentIndex:t,maxCarouselItems:i,remainingIndexes:s,goToItem:h})=>{const u=e.dots&&(s==null?void 0:s.length)>1;return c(Se,{children:u&&c("div",{className:"spinetic-dots",children:s==null?void 0:s.map((x,o)=>c("span",{className:`${e.dotsModel} ${o===t?`active-${e.dotsModel}`:""}`,onClick:()=>h(o),children:e.indexInDots&&c("span",{children:o+1+(i-(s==null?void 0:s.length))})},o))})})};try{spineticdots.displayName="spineticdots",spineticdots.__docgenInfo={description:"",displayName:"spineticdots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const De=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Pe=e=>{const t=e==null?void 0:e.reduce((i,s)=>i+s,0);return Math.floor(t)},fe=(e,t)=>{var i;return Math.floor((i=e==null?void 0:e.slice(0,t))==null?void 0:i.reduce((s,h)=>s-h,0))},Ce=({currentConfig:e,remainingIndexes:t,spineticContainer:i,_carouselItemsWidths:s,currentIndex:h,_setCarouselContainerTransform:u,previousItem:x,nextItem:o,_handleItemChange:v})=>{const[p,W]=r.useState(0),[S,E]=r.useState(0),[L,_]=r.useState(0),[C,Y]=r.useState(!1),[b,J]=r.useState(!1),[m,K]=r.useState(null),[y,H]=r.useState(null),N=()=>{const l="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;J(l?!1:!(e!=null&&e.draggable))};return{start:l=>{var A;if((t==null?void 0:t.length)<=1||(N(),b||e.verticalAlign))return;l.stopPropagation();let a=(A=l==null?void 0:l.touches)==null?void 0:A[0];W((l==null?void 0:l.pageX)||(a==null?void 0:a.pageX)),E(a==null?void 0:a.clientX),_(a==null?void 0:a.clientY),Y(!0),K(De(l.target)),i==null||i.current.classList.add("spinetic-no-transition")},move:l=>{var z;let a=(z=l==null?void 0:l.touches)==null?void 0:z[0],A=a==null?void 0:a.clientX,U=a==null?void 0:a.clientY,D=Math.abs(A-S),q=Math.abs(U-L),Z=b||!C;if(!(q>30||Z||e.verticalAlign)&&(D>q&&D>20||!a)){l.stopPropagation();const V=((l==null?void 0:l.pageX)||(a==null?void 0:a.pageX)-(i==null?void 0:i.current.scrollLeft))-p;H(V);let F=fe(s,h);F+=V,(D>20||!a)&&u(F),y&&Math.abs(y)>(e==null?void 0:e.touchThreshold)&&m&&m.classList.add("no-click")}},end:l=>{var a;Y(!1),!(b||e.verticalAlign)&&(l.stopPropagation(),i==null||i.current.classList.remove("spinetic-no-transition"),y&&Math.abs(y)>(e==null?void 0:e.touchThreshold)&&(y>0?x():o()),(a=m==null?void 0:m.classList)==null||a.remove("no-click"),H(null),v())}}},qe=({children:e,config:t=Te,change:i})=>{var re;const s=r.useRef(null),h=r.useRef(null),[u,x]=r.useState(B(t)),[o,v]=r.useState(0),[p,W]=r.useState([]),[S,E]=r.useState([]),[L,_]=r.useState(!0),[C,Y]=r.useState(window==null?void 0:window.innerWidth),[b,J]=r.useState(void 0),[m,K]=r.useState({previous:{index:o,remainingIndexes:p,totalItems:r.Children.count(e)},current:{index:o,remainingIndexes:p,totalItems:r.Children.count(e)}});r.useEffect(()=>H(),[]),r.useEffect(()=>{b&&N(t)},[t,b]),r.useEffect(()=>N(t),[e,C]),r.useEffect(()=>V(),[p,o]),r.useEffect(()=>{i&&(p==null?void 0:p.length)>0&&i(m)},[o]),r.useEffect(()=>(N(t),window.removeEventListener("resize",y),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)),[(re=h.current)==null?void 0:re.offsetWidth,C,window==null?void 0:window.innerWidth]),r.useEffect(()=>{if(u.autoRotate){const n=setInterval(()=>{v(d=>{const w=d+1,g=w>=p.length?0:w;return R({current:{...m.current,index:g},previous:{...m.previous,index:d}}),g})},u.msPerAutoRotate);return()=>clearInterval(n)}},[p,u.autoRotate]);const y=()=>{C!==(window==null?void 0:window.innerWidth)&&(Y(window==null?void 0:window.innerWidth),N(t))},H=()=>{var f;const n=(f=window==null?void 0:window.location)==null?void 0:f.href,d=!!(sessionStorage!=null&&sessionStorage.getItem("@storybook/manager/store")),w=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),g=(n==null?void 0:n.includes("docs"))||d||w;return J(g)},N=n=>{const d=B(n),w=d.responsive?[...d.responsive.map(f=>f.breakpoint)]:[],g=window==null?void 0:window.innerWidth;if(w.forEach((f,T)=>{var I;if(g<=f){const k=(I=d==null?void 0:d.responsive[T])==null?void 0:I.settings;Object.keys(k).forEach(P=>{d[P]=k[P]})}}),d.verticalAlign){const f={...d,arrows:!1,dots:!1,draggable:!1,fullHeightItems:!1};x(B(f)),Q()}else x(B(d)),Q()},Q=()=>{var ee,M,oe;ne();const n=Pe(S);(ee=s.current)==null||ee.classList.toggle("spinetic-vertical-align",u.verticalAlign);let d=0,w=0,g=0;S.some($=>{if(w+=$,w<=(s==null?void 0:s.current.offsetWidth))d++;else return $}),g=Math.max(0,r.Children.count(e)-d);let f=o,T=0;const I=$=>{$.forEach((te,Ie)=>{Ie<f&&(T+=te)})};f>g?(f=g,T=n-(s==null?void 0:s.current.offsetWidth)):I(S);const k=Array.from({length:g+1},($,te)=>te+d);R({current:{index:0,remainingIndexes:k,totalItems:r.Children.count(e)},previous:{index:0,remainingIndexes:k,totalItems:r.Children.count(e)}}),W(k),((M=m==null?void 0:m.current)==null?void 0:M.remainingIndexes)!==k&&v(0);const P=u.draggable&&(p==null?void 0:p.length)>1;(oe=h.current)==null||oe.classList.toggle("hasDraggable",P),n<=(s==null?void 0:s.current.offsetWidth)?X(0):X(T)},ne=()=>{var f,T;const n=((f=h.current)==null?void 0:f.querySelectorAll(".spinetic-item"))??null,d=s.current.offsetWidth,w=(T=h.current)==null?void 0:T.offsetHeight,g=[];return n!==null&&n.forEach((I,k)=>{const P=t.autoWidth??!1;if(b?P:u.autoWidth)g.push(I.offsetWidth),I.style.width="";else{const M=b?be(t.showItems??1):u.showItems;g.push(d/M),I.style.width=d/M+"px"}u.fullHeightItems?window==null||window.requestAnimationFrame(()=>{I.style.height=w+"px"}):I.style.height=""}),E(g),g},R=n=>{K(d=>({previous:{...d.previous,...n.previous},current:{...d.current,...n.current}}))},l=n=>u.clickTransitionCtrl?L&&n:n,a=o>0,A=()=>{if(l(a)){const n=o-1;R({current:{...m.current,index:n},previous:{...m.previous,index:o}}),v(n)}},U=o<(p==null?void 0:p.length)-1,D=()=>{if(l(U)){const n=o+1;R({current:{...m.current,index:n},previous:{...m.previous,index:o}}),v(n)}},q=r.Children.count(e),Z=n=>n>=0&&n<q,z=n=>{l(Z(n))&&(R({current:{...m.current,index:n},previous:{...m.previous,index:o}}),v(n))},X=n=>{h.current.style.transform=`translateX(${n}px)`},V=()=>{_(!1);const n=fe(S,o);X(n),setTimeout(()=>{_(!0)},u.msPerClicks)},{start:F,move:we,end:xe}=Ce({currentConfig:u,remainingIndexes:p,spineticContainer:h,_carouselItemsWidths:S,currentIndex:o,_setCarouselContainerTransform:X,previousItem:A,nextItem:D,_handleItemChange:V});return{currentConfig:u,currentIndex:o,spineticMain:s,spineticContainer:h,maxCarouselItems:q,remainingIndexes:p,goToItem:z,previousItem:A,nextItem:D,start:F,move:we,end:xe}},Xe=({children:e,config:t,change:i})=>{const{currentConfig:s,currentIndex:h,spineticMain:u,spineticContainer:x,maxCarouselItems:o,remainingIndexes:v,goToItem:p,previousItem:W,nextItem:S,start:E,move:L,end:_}=qe({children:e,config:t,change:i});return ge("div",{className:"spinetic-main",ref:u,children:[c("div",{className:"spinetic-wrapper",children:c(Ne,{currentConfig:s,currentIndex:h,remainingIndexes:v,onClickPreviousItem:W,onClickNextItem:S,children:c("div",{className:"spinetic-container",ref:x,onMouseDown:E,onMouseMove:L,onMouseUp:_,onMouseLeave:_,onTouchStart:E,onTouchMove:L,onTouchEnd:_,children:e})})}),c(Re,{currentConfig:s,currentIndex:h,maxCarouselItems:o,remainingIndexes:v,goToItem:p})]})},ve=Xe;try{spinetic.displayName="spinetic",spinetic.__docgenInfo={description:"",displayName:"spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const Ve=({children:e})=>c("div",{className:"spinetic-item",children:e});try{spineticitem.displayName="spineticitem",spineticitem.__docgenInfo={description:"",displayName:"spineticitem",props:{}}}catch{}const Ue={title:"Pages/Playground",parameters:{docs:{page:Ae,source:{language:"tsx"}}},tags:["autodocs"],component:ve,argTypes:ke},se=e=>{const t=ye(e.children),i=e.change;delete e.children,delete e.change;const s={...e};return c(ve,{config:{...s},change:i?We:void 0,children:t.map((h,u)=>c(Ve,{children:c(_e,{highlightText:!1,index:u,text:h})},u))})},G=se.bind({}),O=se.bind({});O.args={autoWidth:!0,dotsModel:"long-rounded",fullHeightItems:!0};const j=se.bind({});j.args={autoRotate:!0,dotsModel:"long-rounded",hideArrows:!0,msPerAutoRotate:2e3,showItems:3};var ie,ae,ce;G.parameters={...G.parameters,docs:{...(ie=G.parameters)==null?void 0:ie.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ce=(ae=G.parameters)==null?void 0:ae.docs)==null?void 0:ce.source}}};var le,de,ue;O.parameters={...O.parameters,docs:{...(le=O.parameters)==null?void 0:le.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ue=(de=O.parameters)==null?void 0:de.docs)==null?void 0:ue.source}}};var pe,he,me;j.parameters={...j.parameters,docs:{...(pe=j.parameters)==null?void 0:pe.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(me=(he=j.parameters)==null?void 0:he.docs)==null?void 0:me.source}}};const Ze=["Default","AutoWidth","AutoRotate"];export{j as AutoRotate,O as AutoWidth,G as Default,Ze as __namedExportsOrder,Ue as default};
