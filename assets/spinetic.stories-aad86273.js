import{j as c,a as me,F as Ie,g as Se,C as ye}from"./card-example-a1cc0bc4.js";import{r}from"./index-76fb7be0.js";import{v as B,b as _e,_ as be,a as Te,h as ke}from"./argTypes-ef38145b.js";import Ae from"./Playground-d1711ad1.js";import"./_commonjsHelpers-de833af9.js";import"./index-c5f9cf19.js";import"./iframe-935a1566.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const We=()=>c("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:c("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:c("g",{transform:"translate(-9.672 -5.234)",children:c("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),Ee=()=>c("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:c("g",{transform:"translate(-9.672 -5.234)",children:c("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Le=({children:e,currentConfig:t,currentIndex:i,remainingIndexes:s,onClickPreviousItem:p,onClickNextItem:u})=>{const x=t.arrows&&(s==null?void 0:s.length)>1,o=i===0,w=o&&(t==null?void 0:t.hideArrows),h=i===(s==null?void 0:s.length)-1,A=h&&(t==null?void 0:t.hideArrows);return me("div",{className:"spinetic-container-arrows",children:[x&&c("div",{className:"spinetic-btn-prev",children:c("button",{className:"spinetic-navigation-button",onClick:()=>p(),disabled:o,style:{right:`${t.positionArrowLeft}px`,display:w?"none":"flex"},children:c(We,{})})}),e,x&&c("div",{className:"spinetic-btn-next",children:c("button",{className:"spinetic-navigation-button",onClick:()=>u(),disabled:h,style:{left:t.autoWidth?`${t.positionArrowRight+4}px`:`${t.positionArrowRight}px`,display:A?"none":"flex"},children:c(Ee,{})})})]})};try{spineticarrows.displayName="spineticarrows",spineticarrows.__docgenInfo={description:"",displayName:"spineticarrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const Ne=({currentConfig:e,currentIndex:t,maxCarouselItems:i,remainingIndexes:s,goToItem:p})=>{const u=e.dots&&(s==null?void 0:s.length)>1;return c(Ie,{children:u&&c("div",{className:"spinetic-dots",children:s==null?void 0:s.map((x,o)=>c("span",{className:`${e.dotsModel} ${o===t?`active-${e.dotsModel}`:""}`,onClick:()=>p(o),children:e.indexInDots&&c("span",{children:o+1+(i-(s==null?void 0:s.length))})},o))})})};try{spineticdots.displayName="spineticdots",spineticdots.__docgenInfo={description:"",displayName:"spineticdots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Re=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Ce=e=>{const t=e==null?void 0:e.reduce((i,s)=>i+s,0);return Math.floor(t)},ge=(e,t)=>{var i;return Math.floor((i=e==null?void 0:e.slice(0,t))==null?void 0:i.reduce((s,p)=>s-p,0))},De=({currentConfig:e,remainingIndexes:t,spineticContainer:i,_carouselItemsWidths:s,currentIndex:p,_setCarouselContainerTransform:u,previousItem:x,nextItem:o,_handleItemChange:w})=>{const[h,A]=r.useState(0),[S,L]=r.useState(0),[N,_]=r.useState(0),[q,H]=r.useState(!1),[b,J]=r.useState(!1),[m,K]=r.useState(null),[y,X]=r.useState(null),R=()=>{const l="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;J(l?!1:!(e!=null&&e.draggable))};return{start:l=>{var W;if((t==null?void 0:t.length)<=1||(R(),b||e.verticalAlign))return;l.stopPropagation();let a=(W=l==null?void 0:l.touches)==null?void 0:W[0];A((l==null?void 0:l.pageX)||(a==null?void 0:a.pageX)),L(a==null?void 0:a.clientX),_(a==null?void 0:a.clientY),H(!0),K(Re(l.target)),i==null||i.current.classList.add("spinetic-no-transition")},move:l=>{var z;let a=(z=l==null?void 0:l.touches)==null?void 0:z[0],W=a==null?void 0:a.clientX,U=a==null?void 0:a.clientY,D=Math.abs(W-S),P=Math.abs(U-N),Z=b||!q;if(!(P>30||Z||e.verticalAlign)&&(D>P&&D>20||!a)){l.stopPropagation();const M=((l==null?void 0:l.pageX)||(a==null?void 0:a.pageX)-(i==null?void 0:i.current.scrollLeft))-h;X(M);let F=ge(s,p);F+=M,(D>20||!a)&&u(F),y&&Math.abs(y)>(e==null?void 0:e.touchThreshold)&&m&&m.classList.add("no-click")}},end:l=>{var a;H(!1),!(b||e.verticalAlign)&&(l.stopPropagation(),i==null||i.current.classList.remove("spinetic-no-transition"),y&&Math.abs(y)>(e==null?void 0:e.touchThreshold)&&(y>0?x():o()),(a=m==null?void 0:m.classList)==null||a.remove("no-click"),X(null),w())}}},qe=({children:e,config:t=be,change:i})=>{var ne;const s=r.useRef(null),p=r.useRef(null),[u,x]=r.useState(B(t)),[o,w]=r.useState(0),[h,A]=r.useState([]),[S,L]=r.useState([]),[N,_]=r.useState(!0),[q,H]=r.useState(window==null?void 0:window.innerWidth),[b,J]=r.useState(void 0),[m,K]=r.useState({previous:{index:o,remainingIndexes:h,totalItems:r.Children.count(e)},current:{index:o,remainingIndexes:h,totalItems:r.Children.count(e)}});r.useEffect(()=>X(),[]),r.useEffect(()=>{b&&R(t)},[t,b]),r.useEffect(()=>M(),[h,o]),r.useEffect(()=>{i&&i(m)},[o]),r.useEffect(()=>R(t),[e,q]),r.useEffect(()=>(R(t),window.removeEventListener("resize",y),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)),[(ne=p.current)==null?void 0:ne.offsetWidth,q,window==null?void 0:window.innerWidth]),r.useEffect(()=>{if(u.autoRotate){const n=setInterval(()=>{w(d=>{const v=d+1,g=v>=h.length?0:v;return C({current:{...m.current,index:g},previous:{...m.current,index:d}}),g})},u.msPerAutoRotate);return()=>clearInterval(n)}},[u.autoRotate]);const y=()=>{q!==(window==null?void 0:window.innerWidth)&&(H(window==null?void 0:window.innerWidth),R(t))},X=()=>{var f;const n=(f=window==null?void 0:window.location)==null?void 0:f.href,d=!!(sessionStorage!=null&&sessionStorage.getItem("@storybook/manager/store")),v=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),g=(n==null?void 0:n.includes("docs"))||d||v;return J(g)},R=n=>{X();const d=B(n),v=d.responsive?[...d.responsive.map(f=>f.breakpoint)]:[],g=window==null?void 0:window.innerWidth;if(v.forEach((f,T)=>{var I;if(g<=f){const k=(I=d==null?void 0:d.responsive[T])==null?void 0:I.settings;Object.keys(k).forEach(E=>{d[E]=k[E]})}}),d.verticalAlign){const f={...d,arrows:!1,dots:!1,draggable:!1,fullHeightItems:!1};x(B(f)),Q()}else x(B(d)),Q()},Q=()=>{var $,re;se();const n=Ce(S);($=s.current)==null||$.classList.toggle("spinetic-vertical-align",u.verticalAlign);let d=0,v=0,g=0;S.some(O=>{if(v+=O,v<=(s==null?void 0:s.current.offsetWidth))d++;else return O}),g=Math.max(0,r.Children.count(e)-d);let f=o,T=0;const I=O=>{O.forEach((ee,xe)=>{xe<f&&(T+=ee)})};f>g?(f=g,T=n-(s==null?void 0:s.current.offsetWidth)):I(S);const k=Array.from({length:g+1},(O,ee)=>ee+d);C({current:{index:0,remainingIndexes:k,totalItems:r.Children.count(e)},previous:{index:0,remainingIndexes:k,totalItems:r.Children.count(e)}}),A(k),m.current.remainingIndexes!==k&&w(0);const E=u.draggable&&(h==null?void 0:h.length)>1;(re=p.current)==null||re.classList.toggle("hasDraggable",E),n<=(s==null?void 0:s.current.offsetWidth)?V(0):V(T)},se=()=>{var f,T;const n=((f=p.current)==null?void 0:f.querySelectorAll(".spinetic-item"))??null,d=s.current.offsetWidth,v=(T=p.current)==null?void 0:T.offsetHeight,g=[];return n!==null&&n.forEach((I,k)=>{const E=t.autoWidth??!1;if(b||u.autoWidth,E)g.push(I.offsetWidth),I.style.width="";else{const $=b?_e(t.showItems):u.showItems;g.push(d/$),I.style.width=d/$+"px"}u.fullHeightItems?window==null||window.requestAnimationFrame(()=>{I.style.height=v+"px"}):I.style.height=""}),L(g),g},C=n=>{K(d=>({previous:{...d.previous,...n.previous},current:{...d.current,...n.current}}))},l=n=>u.clickTransitionCtrl?N&&n:n,a=o>0,W=()=>{if(l(a)){const n=o-1;C({current:{...m.current,index:n},previous:{...m.current,index:o}}),w(n)}},U=o<(h==null?void 0:h.length)-1,D=()=>{if(l(U)){const n=o+1;C({current:{...m.current,index:n},previous:{...m.current,index:o}}),w(n)}},P=r.Children.count(e),Z=n=>n>=0&&n<P,z=n=>{l(Z(n))&&(C({current:{...m.current,index:n},previous:{...m.current,index:o}}),w(n))},V=n=>{p.current.style.transform=`translateX(${n}px)`},M=()=>{_(!1);const n=ge(S,o);V(n),setTimeout(()=>{_(!0)},u.msPerClicks)},{start:F,move:we,end:ve}=De({currentConfig:u,remainingIndexes:h,spineticContainer:p,_carouselItemsWidths:S,currentIndex:o,_setCarouselContainerTransform:V,previousItem:W,nextItem:D,_handleItemChange:M});return{currentConfig:u,currentIndex:o,spineticMain:s,spineticContainer:p,maxCarouselItems:P,remainingIndexes:h,goToItem:z,previousItem:W,nextItem:D,start:F,move:we,end:ve}},Xe=({children:e,config:t,change:i})=>{const{currentConfig:s,currentIndex:p,spineticMain:u,spineticContainer:x,maxCarouselItems:o,remainingIndexes:w,goToItem:h,previousItem:A,nextItem:S,start:L,move:N,end:_}=qe({children:e,config:t,change:i});return me("div",{className:"spinetic-main",ref:u,children:[c("div",{className:"spinetic-wrapper",children:c(Le,{currentConfig:s,currentIndex:p,remainingIndexes:w,onClickPreviousItem:A,onClickNextItem:S,children:c("div",{className:"spinetic-container",ref:x,onMouseDown:L,onMouseMove:N,onMouseUp:_,onMouseLeave:_,onTouchStart:L,onTouchMove:N,onTouchEnd:_,children:e})})}),c(Ne,{currentConfig:s,currentIndex:p,maxCarouselItems:o,remainingIndexes:w,goToItem:h})]})},fe=Xe;try{spinetic.displayName="spinetic",spinetic.__docgenInfo={description:"",displayName:"spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const Pe=({children:e})=>c("div",{className:"spinetic-item",children:e});try{spineticitem.displayName="spineticitem",spineticitem.__docgenInfo={description:"",displayName:"spineticitem",props:{}}}catch{}const Qe={title:"Pages/Playground",parameters:{docs:{page:Ae}},tags:["autodocs"],component:fe,argTypes:Te},te=e=>{const t=Se(e.children),i=e.change;delete e.children,delete e.change;const s={...e};return c(fe,{config:{...s},change:i?ke:void 0,children:t.map((p,u)=>c(Pe,{children:c(ye,{highlightText:!1,index:u,text:p})},u))})},G=te.bind({}),j=te.bind({});j.args={autoWidth:!0,dotsModel:"long-rounded",fullHeightItems:!0};const Y=te.bind({});Y.args={autoRotate:!0,dotsModel:"long-rounded",hideArrows:!0,msPerAutoRotate:2e3,showItems:3};var oe,ie,ae;G.parameters={...G.parameters,docs:{...(oe=G.parameters)==null?void 0:oe.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ae=(ie=G.parameters)==null?void 0:ie.docs)==null?void 0:ae.source}}};var ce,le,de;j.parameters={...j.parameters,docs:{...(ce=j.parameters)==null?void 0:ce.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(de=(le=j.parameters)==null?void 0:le.docs)==null?void 0:de.source}}};var ue,pe,he;Y.parameters={...Y.parameters,docs:{...(ue=Y.parameters)==null?void 0:ue.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(he=(pe=Y.parameters)==null?void 0:pe.docs)==null?void 0:he.source}}};const Ue=["Default","AutoWidth","AutoRotate"];export{Y as AutoRotate,j as AutoWidth,G as Default,Ue as __namedExportsOrder,Qe as default};
