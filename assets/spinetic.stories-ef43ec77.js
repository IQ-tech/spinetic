import{j as l,a as ae,F as _e,g as Xe,S as Me,C as Oe}from"./CardExample-ddb75f59.js";import{r as o,R as O}from"./index-76fb7be0.js";import{v as ce,_ as $e,a as Ye,h as je}from"./argTypes-77177d18.js";import Fe from"./Playground-9dd50abe.js";import"./_commonjsHelpers-de833af9.js";import"./index-67159854.js";import"./iframe-b5cda6ee.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const Be=()=>l("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),He=o.memo(Be),ze=()=>l("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Ge=o.memo(ze),le=({children:e,currentConfig:t,currentIndex:s,remainingIndexes:n,onClickPreviousItem:r,onClickNextItem:h})=>{const u=t.arrows&&(n==null?void 0:n.length)>1,g=s===0,a=g&&(t==null?void 0:t.hideArrows),m=s===(n==null?void 0:n.length)-1,v=m&&(t==null?void 0:t.hideArrows);return ae("div",{className:"spinetic-container-arrows",children:[u&&l("div",{className:"spinetic-btn-prev",children:l("button",{className:"spinetic-navigation-button",onClick:()=>r(),disabled:g,style:{right:`${t.arrowLeftPosition}px`,display:a?"none":"flex"},children:l(He,{})})}),e,u&&l("div",{className:"spinetic-btn-next",children:l("button",{className:"spinetic-navigation-button",onClick:()=>h(),disabled:m,style:{left:t.autoWidth?`${t.arrowRightPosition+4}px`:`${t.arrowRightPosition}px`,display:v?"none":"flex"},children:l(Ge,{})})})]})};try{le.displayName="SpineticArrows",le.__docgenInfo={description:"",displayName:"SpineticArrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const ie=({currentConfig:e,currentIndex:t,maxCarouselItems:s,remainingIndexes:n,goToItem:r})=>{const h=e.dots&&(n==null?void 0:n.length)>1;return l(_e,{children:h&&l("div",{className:"spinetic-dots",children:n==null?void 0:n.map((u,g)=>l("span",{className:`${e.dotsModel} ${g===t?`active-${e.dotsModel}`:""}`,onClick:()=>r(g),children:e.indexInDots&&l("span",{children:g+1+(s-(n==null?void 0:n.length))})},g))})})};try{ie.displayName="SpineticDots",ie.__docgenInfo={description:"",displayName:"SpineticDots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Je=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Ke=e=>{const t=e==null?void 0:e.reduce((s,n)=>s+n,0);return Math.floor(t)},Te=(e,t)=>{var s;return Math.floor((s=e==null?void 0:e.slice(0,t))==null?void 0:s.reduce((n,r)=>n-r,0))},Qe=(e,t)=>(e==null?void 0:e.length)!==(t==null?void 0:t.length)||!e||!t?!1:e==null?void 0:e.every((s,n)=>s===t[n]);function Ue(e){return typeof e!="number"||isNaN(e)||!isFinite(e)?1:e}function ue(e,t){let s=0;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){s++;const r=e[n];typeof r=="object"&&r!==null&&!t.has(r)&&(t.add(r),s+=ue(r,t))}return s}function Ne(e,t,s=500,n=new Set){if(!e||!t)return!1;const r=Object.keys(e),h=Object.keys(t);if(r.length!==h.length)return!1;const u=ue(e,n),g=ue(t,n);if(u>s||g>s)return!1;for(const a of r){const m=e[a],v=t[a];if(typeof m=="object"&&m!==null&&typeof v=="object"&&v!==null){if(!Ne(m,v,s,n))return!1}else if(m!==v)return!1}return!0}function Ze(e,t,s=500){return!e||!t?!1:e.every((r,h)=>{var a,m,v,A,d;const u=(m=(a=r==null?void 0:r.props)==null?void 0:a.children)==null?void 0:m.props,g=(d=(A=(v=t[h])==null?void 0:v.props)==null?void 0:A.children)==null?void 0:d.props;return Ne(u,g,s)})}const et=({_sb:e,config:t,currentConfig:s,remainingIndexes:n,spineticContainer:r,_carouselItemsWidths:h,currentIndex:u,_setCarouselContainerTransform:g,previousItem:a,nextItem:m,_handleItemChange:v})=>{const[A,d]=o.useState(0),[D,k]=o.useState(0),[R,_]=o.useState(0),[$,X]=o.useState(!1),[T,b]=o.useState(!1),[P,ee]=o.useState(null),[N,J]=o.useState(null),M=()=>{const x="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;b(x?!1:!(s!=null&&s.draggable))};o.useEffect(()=>{M()},[M,window==null?void 0:window.ontouchstart,navigator==null?void 0:navigator.maxTouchPoints]);const I=o.useCallback(x=>{const i=r==null?void 0:r.current;i&&i.classList[x?"add":"remove"]("spinetic-no-transition")},[r]),Y=o.useCallback(x=>{var W;if(e&&!s.draggable||(n==null?void 0:n.length)<=1||T||s.verticalAlign)return;x.stopPropagation();const i=(W=x.touches)==null?void 0:W[0];d(x.pageX||(i==null?void 0:i.pageX)||0),k((i==null?void 0:i.clientX)||0),_((i==null?void 0:i.clientY)||0),X(!0),ee(Je(x.target)),T||I(!0)},[s,e,s.draggable,n==null?void 0:n.length,T,I]),te=o.useCallback(x=>{var F,B;if(e&&!s.draggable||!$||T||s.verticalAlign)return;const i=(F=x.touches)==null?void 0:F[0],W=(i==null?void 0:i.clientX)||0,ne=(i==null?void 0:i.clientY)||0,j=Math.abs(W-D),L=Math.abs(ne-R);if(!(L>30)&&(j>L&&j>20||!i)){x.stopPropagation();const Q=(x.pageX||((i==null?void 0:i.pageX)||0)-(((B=r==null?void 0:r.current)==null?void 0:B.scrollLeft)||0))-A;J(Q);const se=Te(h,u)+Q;(j>20||!i)&&g(se),N&&Math.abs(N)>s.touchThreshold&&P&&P.classList.add("no-click")}},[e,s.draggable,$,T,s.verticalAlign,D,R,A,N,P,h,u,g]),K=o.useCallback(x=>{e&&!s.draggable||T||s.verticalAlign||(X(!1),x.stopPropagation(),N&&Math.abs(N)>s.touchThreshold&&(N>0?a():m()),P&&P.classList.remove("no-click"),J(null),v(),I(!1))},[e,s.draggable,T,s.verticalAlign,N,a,m,P,v,I]);return{start:Y,move:te,end:K}},tt=({children:e,config:t=$e,change:s})=>{const n=o.useRef(null),r=o.useRef(null),h=o.useRef(e),[u,g]=o.useState(ce(t)),[a,m]=o.useState(0),[v,A]=o.useState(1),[d,D]=o.useState([]),[k,R]=o.useState([]),[_,$]=o.useState(!0),[X,T]=o.useState(void 0),[b,P]=o.useState({previous:{index:a,remainingIndexes:d,totalItems:o.Children.count(e)},current:{index:a,remainingIndexes:d,totalItems:o.Children.count(e)}}),ee=()=>{var S;const c=(S=window==null?void 0:window.location)==null?void 0:S.href,p=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),f=(c==null?void 0:c.includes("pages-playground"))&&p;return T(f)},N=o.useCallback(c=>{const p=r.current,f=n.current;if(!p||!f)return null;const S=p.querySelectorAll(".spinetic-item"),{autoWidth:w,showItems:q,fullHeightItems:V}=c,y=[];return S!==null&&(S==null||S.forEach(E=>{w?(y.push(E.offsetWidth),E.style.width=""):(y.push(f.offsetWidth/q),E.style.width=f.offsetWidth/q+"px"),V?window.requestAnimationFrame(()=>{E.style.height=p.offsetHeight+"px"}):E.style.height=""})),R(y),y},[d,h.current,t,u,n.current,r.current]),J=o.useCallback(c=>{var me,fe,ge,ve;if(c.verticalAlign)return;N(c);const p=Ke(k);let f=0,S=0,w=0;const q=((me=n==null?void 0:n.current)==null?void 0:me.offsetWidth)??0;k.some(C=>{if(S+=C,S<=q)f++,A(f);else return C}),w=Math.max(0,o.Children.count(e)-f);let V=a,y=0;const E=C=>{C.forEach((oe,Ve)=>{Ve<V&&(y+=oe)})};V>w?(V=w,y=p-q):E(k);const{groupScroll:H,groupItemsScroll:re}=c,Re=re>1&&re<=f?re:f,Pe=Math.ceil(Ue(w/Re)),Ce=H?Pe:w,De=C=>H?(C+1)*f:C+f,U=Array.from({length:Ce+1},(C,oe)=>De(oe));I({current:{index:0,remainingIndexes:U,totalItems:o.Children.count(e)},previous:{index:0,remainingIndexes:U,totalItems:o.Children.count(e)}}),D(U),Qe((fe=b==null?void 0:b.current)==null?void 0:fe.remainingIndexes,U)||m(0);const We=c.draggable&&(d==null?void 0:d.length)>1;(ge=r.current)==null||ge.classList.toggle("hasDraggable",We);const Le=((ve=n==null?void 0:n.current)==null?void 0:ve.offsetWidth)??0;p<=Le?L(0):L(y)},[d,h.current,t,u,n.current,r.current]),M=c=>{const p=ce(c),f=p.responsive?[...p.responsive.map(q=>q.breakpoint)]:[],S=window==null?void 0:window.innerWidth;f.forEach((q,V)=>{var y;if(S<=q){const E=(y=p==null?void 0:p.responsive[V])==null?void 0:y.settings;Object.keys(E).forEach(H=>{p[H]=E[H]})}});const w=ce(p);g(w),J(w)},I=c=>{P(p=>({previous:{...p.previous,...c.previous},current:{...p.current,...c.current}}))},Y=c=>u.clickTransitionCtrl?_&&c:c,te=a>0,K=()=>{if(Y(te)){const c=a-1;m(c),I({current:{...b.current,index:c},previous:{...b.previous,index:a}})}},x=a<(d==null?void 0:d.length)-1,i=()=>{if(Y(x)){const c=a+1;m(c),I({current:{...b.current,index:c},previous:{...b.previous,index:a}})}},W=o.Children.count(e),ne=c=>c>=0&&c<W,j=c=>{Y(ne(c))&&(m(c),I({current:{...b.current,index:c},previous:{...b.previous,index:a}}))},L=c=>{if(!u.verticalAlign&&r!=null&&r.current){const{groupScroll:p,groupItemsScroll:f}=u,S=f>1&&f<=v?f:v,w=p?c*S:c;r.current.style.transform=`translateX(${w}px)`}},F=()=>{$(!1);const c=Te(k,a);L(c),setTimeout(()=>{$(!0)},u.msPerClicks)},B=o.useCallback(()=>{Ze(e,h.current)||(h.current=e,M(t))},[e,t]),{start:he,move:Q,end:se}=et({_sb:X,config:t,currentConfig:u,remainingIndexes:d,spineticContainer:r,_carouselItemsWidths:k,currentIndex:a,_setCarouselContainerTransform:L,previousItem:K,nextItem:i,_handleItemChange:F});return o.useEffect(()=>ee(),[]),o.useEffect(()=>{X&&M(t)},[t,X,e,h.current,r,u.autoWidth]),o.useEffect(()=>{s&&(d==null?void 0:d.length)>1&&s(b)},[a]),o.useEffect(()=>F(),[d,a]),o.useEffect(()=>B(),[B]),o.useEffect(()=>M(t),[r.current,window==null?void 0:window.innerWidth,u.verticalAlign,t,h.current]),o.useEffect(()=>{if(u.autoRotate){const c=setInterval(()=>{m(p=>{const f=p+1,S=f>=d.length?0:f;return I({current:{...b.current,index:S},previous:{...b.previous,index:p}}),S})},u.msPerAutoRotate);return()=>clearInterval(c)}},[d,u.autoRotate]),{currentConfig:u,currentIndex:a,spineticMain:n,prevChildren:h,spineticContainer:r,maxCarouselItems:W,remainingIndexes:d,goToItem:j,previousItem:K,nextItem:i,start:he,move:Q,end:se}},de=({children:e,config:t,change:s})=>{const{currentConfig:n,currentIndex:r,spineticMain:h,spineticContainer:u,prevChildren:g,maxCarouselItems:a,remainingIndexes:m,goToItem:v,previousItem:A,nextItem:d,start:D,move:k,end:R}=tt({children:e,config:t,change:s});return ae(_e,{children:[n.verticalAlign&&l("div",{className:"spinetic-vertical-align",children:l("div",{children:O.Children.map(g.current,_=>O.isValidElement(_)?O.cloneElement(_):l("h1",{children:"Not a React component"}))})}),!n.verticalAlign&&ae("div",{className:"spinetic-main",ref:h,children:[l("div",{className:"spinetic-wrapper",children:l(le,{currentConfig:n,currentIndex:r,remainingIndexes:m,onClickPreviousItem:A,onClickNextItem:d,children:l("div",{className:"spinetic-container",ref:u,onMouseDown:D,onMouseMove:k,onMouseUp:R,onMouseLeave:R,onTouchStart:D,onTouchMove:k,onTouchEnd:R,children:O.Children.map(g.current,_=>O.isValidElement(_)?O.cloneElement(_):l("h1",{children:"Not a React component"}))})})}),l(ie,{currentConfig:n,currentIndex:r,maxCarouselItems:a,remainingIndexes:m,goToItem:v})]})]})},qe=de;try{de.displayName="Spinetic",de.__docgenInfo={description:"",displayName:"Spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const gt={title:"Pages/Playground",component:qe,argTypes:Ye,parameters:{docs:{page:Fe,source:{language:"tsx"}}},tags:["autodocs"]},pe=e=>{const t=Xe(e.children),s=e.change;delete e.children,delete e.change;const n={...e};return l(qe,{config:n,change:s?je:void 0,children:t.map((r,h)=>l(Me,{children:l(Oe,{highlightText:!1,index:h,text:r})},h))})},Z=pe.bind({}),z=pe.bind({});z.args={autoWidth:!0};const G=pe.bind({});G.args={autoRotate:!0,msPerAutoRotate:2e3};var Se,xe,be;Z.parameters={...Z.parameters,docs:{...(Se=Z.parameters)==null?void 0:Se.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(be=(xe=Z.parameters)==null?void 0:xe.docs)==null?void 0:be.source}}};var we,ye,ke;z.parameters={...z.parameters,docs:{...(we=z.parameters)==null?void 0:we.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ke=(ye=z.parameters)==null?void 0:ye.docs)==null?void 0:ke.source}}};var Ie,Ee,Ae;G.parameters={...G.parameters,docs:{...(Ie=G.parameters)==null?void 0:Ie.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ae=(Ee=G.parameters)==null?void 0:Ee.docs)==null?void 0:Ae.source}}};const vt=["Default","AutoWidth","AutoRotate"];export{G as AutoRotate,z as AutoWidth,Z as Default,vt as __namedExportsOrder,gt as default};
