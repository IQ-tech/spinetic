import{j as c,a as ce,F as We,g as Xe,C as Oe}from"./CardExample-d31eb566.js";import{r,R as $}from"./index-76fb7be0.js";import{v as M,_ as te,a as $e,h as Me}from"./argTypes-c1f4974d.js";import He from"./Playground-cc5f3656.js";import"./_commonjsHelpers-de833af9.js";import"./index-9973ace2.js";import"./iframe-825454ab.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const Ye=()=>c("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:c("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:c("g",{transform:"translate(-9.672 -5.234)",children:c("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),je=r.memo(Ye),Fe=()=>c("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:c("g",{transform:"translate(-9.672 -5.234)",children:c("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),ze=r.memo(Fe),le=({children:e,currentConfig:t,currentIndex:o,remainingIndexes:n,onClickPreviousItem:s,onClickNextItem:h})=>{const u=t.arrows&&(n==null?void 0:n.length)>1,f=o===0,l=f&&(t==null?void 0:t.hideArrows),p=o===(n==null?void 0:n.length)-1,a=p&&(t==null?void 0:t.hideArrows);return ce("div",{className:"spinetic-container-arrows",children:[u&&c("div",{className:"spinetic-btn-prev",children:c("button",{className:"spinetic-navigation-button",onClick:()=>s(),disabled:f,style:{right:`${t.arrowLeftPosition}px`,display:l?"none":"flex"},children:c(je,{})})}),e,u&&c("div",{className:"spinetic-btn-next",children:c("button",{className:"spinetic-navigation-button",onClick:()=>h(),disabled:p,style:{left:t.autoWidth?`${t.arrowRightPosition+4}px`:`${t.arrowRightPosition}px`,display:a?"none":"flex"},children:c(ze,{})})})]})};try{le.displayName="SpineticArrows",le.__docgenInfo={description:"",displayName:"SpineticArrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const ue=({currentConfig:e,currentIndex:t,maxCarouselItems:o,remainingIndexes:n,goToItem:s})=>{const h=e.dots&&(n==null?void 0:n.length)>1;return c(We,{children:h&&c("div",{className:"spinetic-dots",children:n==null?void 0:n.map((u,f)=>c("span",{className:`${e.dotsModel} ${f===t?`active-${e.dotsModel}`:""}`,onClick:()=>s(f),children:e.indexInDots&&c("span",{children:f+1+(o-(n==null?void 0:n.length))})},f))})})};try{ue.displayName="SpineticDots",ue.__docgenInfo={description:"",displayName:"SpineticDots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Be=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Ge=e=>{const t=e==null?void 0:e.reduce((o,n)=>o+n,0);return Math.floor(t)},Ne=(e,t)=>{var o;return Math.floor((o=e==null?void 0:e.slice(0,t))==null?void 0:o.reduce((n,s)=>n-s,0))},Je=(e,t)=>(e==null?void 0:e.length)!==(t==null?void 0:t.length)||!e||!t?!1:e==null?void 0:e.every((o,n)=>o===t[n]);function de(e,t){let o=0;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){o++;const s=e[n];typeof s=="object"&&s!==null&&!t.has(s)&&(t.add(s),o+=de(s,t))}return o}function Re(e,t,o=500,n=new Set){if(!e||!t)return!1;const s=Object.keys(e),h=Object.keys(t);if(s.length!==h.length)return!1;const u=de(e,n),f=de(t,n);if(u>o||f>o)return!1;for(const l of s){const p=e[l],a=t[l];if(typeof p=="object"&&p!==null&&typeof a=="object"&&a!==null){if(!Re(p,a,o,n))return!1}else if(p!==a)return!1}return!0}function Ke(e,t,o=500){return!e||!t?!1:e.every((s,h)=>{var l,p,a,E,S;const u=(p=(l=s==null?void 0:s.props)==null?void 0:l.children)==null?void 0:p.props,f=(S=(E=(a=t[h])==null?void 0:a.props)==null?void 0:E.children)==null?void 0:S.props;return Re(u,f,o)})}const Qe=({_sb:e,config:t,currentConfig:o,remainingIndexes:n,spineticContainer:s,_carouselItemsWidths:h,currentIndex:u,_setCarouselContainerTransform:f,previousItem:l,nextItem:p,_handleItemChange:a})=>{const[E,S]=r.useState(0),[D,X]=r.useState(0),[A,_]=r.useState(0),[J,x]=r.useState(!1),[T,w]=r.useState(!1),[N,ne]=r.useState(null),[b,K]=r.useState(null),R=e?M(t):te,q=()=>{const g="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;w(g?!1:!(o!=null&&o.draggable))};r.useEffect(()=>{q()},[q,window==null?void 0:window.ontouchstart,navigator==null?void 0:navigator.maxTouchPoints]);const P=r.useCallback(g=>{const d=s==null?void 0:s.current;d&&d.classList[g?"add":"remove"]("spinetic-no-transition")},[s]),se=r.useCallback(g=>{var O;if(e&&!R.draggable||(n==null?void 0:n.length)<=1||T||o.verticalAlign)return;g.stopPropagation();const d=(O=g.touches)==null?void 0:O[0];S(g.pageX||(d==null?void 0:d.pageX)||0),X((d==null?void 0:d.clientX)||0),_((d==null?void 0:d.clientY)||0),x(!0),ne(Be(g.target)),T||P(!0)},[o,e,R.draggable,n==null?void 0:n.length,T,P]),Q=r.useCallback(g=>{var Y,j;if(e&&!R.draggable||!J||T||o.verticalAlign)return;const d=(Y=g.touches)==null?void 0:Y[0],O=(d==null?void 0:d.clientX)||0,oe=(d==null?void 0:d.clientY)||0,L=Math.abs(O-D),H=Math.abs(oe-A);if(!(H>30)&&(L>H&&L>20||!d)){g.stopPropagation();const U=(g.pageX||((d==null?void 0:d.pageX)||0)-(((j=s==null?void 0:s.current)==null?void 0:j.scrollLeft)||0))-E;K(U);const ie=Ne(h,u)+U;(L>20||!d)&&f(ie),b&&Math.abs(b)>o.touchThreshold&&N&&N.classList.add("no-click")}},[e,R.draggable,J,T,o.verticalAlign,D,A,E,b,N,h,u,f]),re=r.useCallback(g=>{e&&!R.draggable||T||o.verticalAlign||(x(!1),g.stopPropagation(),b&&Math.abs(b)>o.touchThreshold&&(b>0?l():p()),N&&N.classList.remove("no-click"),K(null),a(),P(!1))},[e,R.draggable,T,o.verticalAlign,b,l,p,N,a,P]);return{start:se,move:Q,end:re}},Ue=({children:e,config:t=te,change:o})=>{var ge;const n=r.useRef(null),s=r.useRef(null),h=r.useRef(e),[u,f]=r.useState(M(t)),[l,p]=r.useState(0),[a,E]=r.useState([]),[S,D]=r.useState([]),[X,A]=r.useState(!0),[_,J]=r.useState(0),[x,T]=r.useState(void 0),[w,N]=r.useState({previous:{index:l,remainingIndexes:a,totalItems:r.Children.count(e)},current:{index:l,remainingIndexes:a,totalItems:r.Children.count(e)}}),ne=()=>{var v;const i=(v=window==null?void 0:window.location)==null?void 0:v.href,m=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),y=(i==null?void 0:i.includes("pages-playground"))&&m;return T(y)},b=i=>{const m=M(i),y=m.responsive?[...m.responsive.map(I=>I.breakpoint)]:[],v=window==null?void 0:window.innerWidth;y.forEach((I,V)=>{var C;if(v<=I){const W=(C=m==null?void 0:m.responsive[V])==null?void 0:C.settings;Object.keys(W).forEach(k=>{m[k]=W[k]})}}),f(M(m)),K()},K=()=>{var ve,we,Se,xe;if(u.verticalAlign)return;R();const i=Ge(S),m=x?M(t):te;let y=0,v=0,I=0;const V=((ve=n==null?void 0:n.current)==null?void 0:ve.offsetWidth)??0;S.some(z=>{if(v+=z,v<=V)y++;else return z}),I=Math.max(0,r.Children.count(e)-y);let C=l,W=0;const k=z=>{z.forEach((ae,Ve)=>{Ve<C&&(W+=ae)})};C>I?(C=I,W=i-V):k(S);const F=Array.from({length:I+1},(z,ae)=>ae+y);q({current:{index:0,remainingIndexes:F,totalItems:r.Children.count(e)},previous:{index:0,remainingIndexes:F,totalItems:r.Children.count(e)}}),E(F),Je((we=w==null?void 0:w.current)==null?void 0:we.remainingIndexes,F)||p(0);const Z=(x?m.draggable:u.draggable)&&(a==null?void 0:a.length)>1;(Se=s.current)==null||Se.classList.toggle("hasDraggable",Z);const De=((xe=n==null?void 0:n.current)==null?void 0:xe.offsetWidth)??0;i<=De?L(0):L(W)},R=()=>{var V,C,W;const i=((V=s.current)==null?void 0:V.querySelectorAll(".spinetic-item"))??null,m=((C=n==null?void 0:n.current)==null?void 0:C.offsetWidth)??0,y=(W=s==null?void 0:s.current)==null?void 0:W.offsetHeight,v=[],I=x?M(t):te;return i!==null&&i.forEach((k,F)=>{if(x?I.autoWidth:u.autoWidth)v.push(k.offsetWidth),k.style.width="";else{const Z=x?I.showItems:u.showItems;v.push(m/Z),k.style.width=m/Z+"px"}(x?I.fullHeightItems:u.fullHeightItems)?window.requestAnimationFrame(()=>{k.style.height=y+"px"}):k.style.height=""}),D(v),v},q=i=>{N(m=>({previous:{...m.previous,...i.previous},current:{...m.current,...i.current}}))},P=i=>u.clickTransitionCtrl?X&&i:i,se=l>0,Q=()=>{if(P(se)){const i=l-1;p(i),q({current:{...w.current,index:i},previous:{...w.previous,index:l}})}},re=l<(a==null?void 0:a.length)-1,g=()=>{if(P(re)){const i=l+1;p(i),q({current:{...w.current,index:i},previous:{...w.previous,index:l}})}},d=r.Children.count(e),O=i=>i>=0&&i<d,oe=i=>{P(O(i))&&(p(i),q({current:{...w.current,index:i},previous:{...w.previous,index:l}}))},L=i=>{u.verticalAlign||s!=null&&s.current&&(s.current.style.transform=`translateX(${i}px)`)},H=()=>{A(!1);const i=Ne(S,l);L(i),setTimeout(()=>{A(!0)},u.msPerClicks)},Y=r.useCallback(()=>{Ke(e,h.current)||(h.current=e,b(t))},[e,t]),j=r.useCallback(()=>{_!==(window==null?void 0:window.innerWidth)&&(J(window==null?void 0:window.innerWidth),b(t))},[window==null?void 0:window.innerWidth,window==null?void 0:window.innerHeight,t]),{start:fe,move:U,end:ie}=Qe({_sb:x,config:t,currentConfig:u,remainingIndexes:a,spineticContainer:s,_carouselItemsWidths:S,currentIndex:l,_setCarouselContainerTransform:L,previousItem:Q,nextItem:g,_handleItemChange:H});return r.useEffect(()=>ne(),[]),r.useEffect(()=>H(),[a,l]),r.useEffect(()=>{o&&(a==null?void 0:a.length)>1&&o(w)},[l]),r.useEffect(()=>{x&&b(t)},[t,x,e,h.current]),r.useEffect(()=>Y(),[Y]),r.useEffect(()=>(b(t),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)),[(ge=s.current)==null?void 0:ge.offsetWidth,window==null?void 0:window.innerWidth,_,u.verticalAlign]),r.useEffect(()=>{if(u.autoRotate){const i=setInterval(()=>{p(m=>{const y=m+1,v=y>=a.length?0:y;return q({current:{...w.current,index:v},previous:{...w.previous,index:m}}),v})},u.msPerAutoRotate);return()=>clearInterval(i)}},[a,u.autoRotate]),{currentConfig:u,currentIndex:l,spineticMain:n,prevChildren:h,spineticContainer:s,maxCarouselItems:d,remainingIndexes:a,goToItem:oe,previousItem:Q,nextItem:g,start:fe,move:U,end:ie}},pe=({children:e,config:t,change:o})=>{const{currentConfig:n,currentIndex:s,spineticMain:h,spineticContainer:u,prevChildren:f,maxCarouselItems:l,remainingIndexes:p,goToItem:a,previousItem:E,nextItem:S,start:D,move:X,end:A}=Ue({children:e,config:t,change:o});return ce(We,{children:[n.verticalAlign&&c("div",{className:"spinetic-vertical-align",children:c("div",{children:$.Children.map(f.current,_=>$.isValidElement(_)?$.cloneElement(_):c("h1",{children:"Not a React component"}))})}),!n.verticalAlign&&ce("div",{className:"spinetic-main",ref:h,children:[c("div",{className:"spinetic-wrapper",children:c(le,{currentConfig:n,currentIndex:s,remainingIndexes:p,onClickPreviousItem:E,onClickNextItem:S,children:c("div",{className:"spinetic-container",ref:u,onMouseDown:D,onMouseMove:X,onMouseUp:A,onMouseLeave:A,onTouchStart:D,onTouchMove:X,onTouchEnd:A,children:$.Children.map(f.current,_=>$.isValidElement(_)?$.cloneElement(_):c("h1",{children:"Not a React component"}))})})}),c(ue,{currentConfig:n,currentIndex:s,maxCarouselItems:l,remainingIndexes:p,goToItem:a})]})]})},qe=pe;try{pe.displayName="Spinetic",pe.__docgenInfo={description:"",displayName:"Spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const he=({children:e})=>c("div",{className:"spinetic-item",children:e}),Ze=r.memo(he);try{he.displayName="SpineticItem",he.__docgenInfo={description:"",displayName:"SpineticItem",props:{}}}catch{}const ht={title:"Pages/Playground",component:qe,argTypes:$e,parameters:{docs:{page:He,source:{language:"tsx"}}},tags:["autodocs"]},me=e=>{const t=Xe(e.children),o=e.change;delete e.children,delete e.change;const n={...e};return c(qe,{config:n,change:o?Me:void 0,children:t.map((s,h)=>c(Ze,{children:c(Oe,{highlightText:!1,index:h,text:s})},h))})},ee=me.bind({}),B=me.bind({});B.args={autoWidth:!0};const G=me.bind({});G.args={autoRotate:!0,msPerAutoRotate:2e3};var be,ye,Ie;ee.parameters={...ee.parameters,docs:{...(be=ee.parameters)==null?void 0:be.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ie=(ye=ee.parameters)==null?void 0:ye.docs)==null?void 0:Ie.source}}};var _e,ke,Ee;B.parameters={...B.parameters,docs:{...(_e=B.parameters)==null?void 0:_e.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ee=(ke=B.parameters)==null?void 0:ke.docs)==null?void 0:Ee.source}}};var Ae,Te,Ce;G.parameters={...G.parameters,docs:{...(Ae=G.parameters)==null?void 0:Ae.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ce=(Te=G.parameters)==null?void 0:Te.docs)==null?void 0:Ce.source}}};const mt=["Default","AutoWidth","AutoRotate"];export{G as AutoRotate,B as AutoWidth,ee as Default,mt as __namedExportsOrder,ht as default};
