import{j as a,a as te,F as Re,g as Je,S as Ye,C as je}from"./CardExample-ddb75f59.js";import{r as o,R as P}from"./index-76fb7be0.js";import{v as de,_ as Fe,a as Be}from"./argTypes-c25653a6.js";import He from"./Playground-41e01ce5.js";import"./_commonjsHelpers-de833af9.js";import"./index-30642b5c.js";import"./iframe-9ccc0517.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const Ue=()=>a("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:a("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:a("g",{transform:"translate(-9.672 -5.234)",children:a("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),ze=o.memo(Ue),Ge=()=>a("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:a("g",{transform:"translate(-9.672 -5.234)",children:a("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Ke=o.memo(Ge),ne=({children:e,currentConfig:t,currentIndex:s,remainingIndexes:n,onClickPreviousItem:r,onClickNextItem:p})=>{const l=t.arrows&&(n==null?void 0:n.length)>1,f=s===0,c=f&&(t==null?void 0:t.hideArrows),h=s===(n==null?void 0:n.length)-1,S=h&&(t==null?void 0:t.hideArrows);return te("div",{className:"spinetic-container-arrows",children:[l&&a("div",{className:"spinetic-btn-prev",children:a("button",{className:"spinetic-navigation-button",onClick:()=>r(),disabled:f,style:{right:`${t.arrowLeftPosition}px`,display:c?"none":"flex"},children:a(ze,{})})}),e,l&&a("div",{className:"spinetic-btn-next",children:a("button",{className:"spinetic-navigation-button",onClick:()=>p(),disabled:h,style:{left:t.autoWidth?`${t.arrowRightPosition+4}px`:`${t.arrowRightPosition}px`,display:S?"none":"flex"},children:a(Ke,{})})})]})};try{ne.displayName="SpineticArrows",ne.__docgenInfo={description:"",displayName:"SpineticArrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const se=({currentConfig:e,currentIndex:t,maxCarouselItems:s,remainingIndexes:n,goToItem:r})=>{const p=e.dots&&(n==null?void 0:n.length)>1;return a(Re,{children:p&&a("div",{className:"spinetic-dots",children:n==null?void 0:n.map((l,f)=>a("span",{className:`spinetic-dot ${f===t?"spinetic-dot-active":""}`,style:{...e.dotsStyle,...f===t?e.dotsStyleActive:null},onClick:()=>r(f),children:e.indexInDots&&a("span",{className:"spinetic-dot-index",children:f+1+(s-(n==null?void 0:n.length))})},f))})})};try{se.displayName="SpineticDots",se.__docgenInfo={description:"",displayName:"SpineticDots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Qe=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Ze=e=>{const t=e==null?void 0:e.reduce((s,n)=>s+n,0);return Math.floor(t)},qe=(e,t)=>{var s;return Math.floor((s=e==null?void 0:e.slice(0,t))==null?void 0:s.reduce((n,r)=>n-r,0))},et=(e,t)=>(e==null?void 0:e.length)!==(t==null?void 0:t.length)||!e||!t?!1:e==null?void 0:e.every((s,n)=>s===t[n]);function tt(e){return typeof e!="number"||isNaN(e)||!isFinite(e)?1:e}function pe(e,t){let s=0;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){s++;const r=e[n];typeof r=="object"&&r!==null&&!t.has(r)&&(t.add(r),s+=pe(r,t))}return s}function Pe(e,t,s=500,n=new Set){if(!e||!t)return!1;const r=Object.keys(e),p=Object.keys(t);if(r.length!==p.length)return!1;const l=pe(e,n),f=pe(t,n);if(l>s||f>s)return!1;for(const c of r){const h=e[c],S=t[c];if(typeof h=="object"&&h!==null&&typeof S=="object"&&S!==null){if(!Pe(h,S,s,n))return!1}else if(h!==S)return!1}return!0}function nt(e,t,s=500){return!e||!t?!1:e.every((r,p)=>{var c,h,S,T,d;const l=(h=(c=r==null?void 0:r.props)==null?void 0:c.children)==null?void 0:h.props,f=(d=(T=(S=t[p])==null?void 0:S.props)==null?void 0:T.children)==null?void 0:d.props;return Pe(l,f,s)})}const st=({_sb:e,config:t,currentConfig:s,remainingIndexes:n,spineticContainer:r,_carouselItemsWidths:p,currentIndex:l,_setCarouselContainerTransform:f,previousItem:c,nextItem:h,_handleItemChange:S})=>{const[T,d]=o.useState(0),[_,I]=o.useState(0),[k,b]=o.useState(0),[$,M]=o.useState(!1),[C,y]=o.useState(!1),[L,oe]=o.useState(null),[R,G]=o.useState(null),X=()=>{const x="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;y(x?!1:!(s!=null&&s.draggable))};o.useEffect(()=>{X()},[X,window==null?void 0:window.ontouchstart,navigator==null?void 0:navigator.maxTouchPoints]);const A=o.useCallback(x=>{const u=r==null?void 0:r.current;u&&u.classList[x?"add":"remove"]("spinetic-no-transition")},[r]),J=o.useCallback(x=>{var D;if(e&&!s.draggable||(n==null?void 0:n.length)<=1||C||s.layout==="verticalAlign")return;x.stopPropagation();const u=(D=x.touches)==null?void 0:D[0];d(x.pageX||(u==null?void 0:u.pageX)||0),I((u==null?void 0:u.clientX)||0),b((u==null?void 0:u.clientY)||0),M(!0),oe(Qe(x.target)),C||A(!0)},[s,e,s.draggable,n==null?void 0:n.length,C,A]),ie=o.useCallback(x=>{var j,F;if(e&&!s.draggable||!$||C||s.layout==="verticalAlign")return;const u=(j=x.touches)==null?void 0:j[0],D=(u==null?void 0:u.clientX)||0,ae=(u==null?void 0:u.clientY)||0,Y=Math.abs(D-_),O=Math.abs(ae-k);if(!(O>30)&&(Y>O&&Y>20||!u)){x.stopPropagation();const Q=(x.pageX||((u==null?void 0:u.pageX)||0)-(((F=r==null?void 0:r.current)==null?void 0:F.scrollLeft)||0))-T;G(Q);const ce=qe(p,l)+Q;(Y>20||!u)&&f(ce),R&&Math.abs(R)>s.touchThreshold&&L&&L.classList.add("no-click")}},[e,s.draggable,$,C,s.layout==="verticalAlign",_,k,T,R,L,p,l,f]),K=o.useCallback(x=>{e&&!s.draggable||C||s.layout==="verticalAlign"||(M(!1),x.stopPropagation(),R&&Math.abs(R)>s.touchThreshold&&(R>0?c():h()),L&&L.classList.remove("no-click"),G(null),S(),A(!1))},[e,s.draggable,C,s.layout==="verticalAlign",R,c,h,L,S,A]);return{start:J,move:ie,end:K}},rt=({children:e,config:t=Fe,change:s})=>{const n=o.useRef(null),r=o.useRef(null),p=o.useRef(e),[l,f]=o.useState(de(t)),[c,h]=o.useState(0),[S,T]=o.useState(1),[d,_]=o.useState([]),[I,k]=o.useState([]),[b,$]=o.useState(!0),[M,C]=o.useState(void 0),[y,L]=o.useState({previous:{index:c,remainingIndexes:d,totalItems:o.Children.count(e)},current:{index:c,remainingIndexes:d,totalItems:o.Children.count(e)}}),oe=()=>{var v;const i=(v=window==null?void 0:window.location)==null?void 0:v.href,m=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),g=(i==null?void 0:i.includes("pages-playground"))&&m;return C(g)},R=o.useCallback(i=>{const m=r.current,g=n.current;if(!m||!g)return null;const v=m.querySelectorAll(".spinetic-item"),{autoWidth:w,showItems:q,fullHeightItems:V}=i,E=[];return v!==null&&(v==null||v.forEach(N=>{w?(E.push(N.offsetWidth),N.style.width=""):(E.push(g.offsetWidth/q),N.style.width=g.offsetWidth/q+"px"),V?window.requestAnimationFrame(()=>{N.style.height=m.offsetHeight+"px"}):N.style.height=""})),k(E),E},[d,p.current,t,l,n.current,r.current]),G=o.useCallback(i=>{var ge,fe,Se,ve;if(i.layout==="verticalAlign")return;R(i);const m=Ze(I);let g=0,v=0,w=0;const q=((ge=n==null?void 0:n.current)==null?void 0:ge.offsetWidth)??0;I.some(W=>{if(v+=W,v<=q)g++,T(g);else return W}),w=Math.max(0,o.Children.count(e)-g);let V=c,E=0;const N=W=>{W.forEach((ue,$e)=>{$e<V&&(E+=ue)})};V>w?(V=w,E=m-q):N(I);const{groupScroll:B,groupItemsScroll:le}=i,We=le>1&&le<=g?le:g,De=Math.ceil(tt(w/We)),Oe=B?De:w,Ve=W=>B?(W+1)*g:W+g,Z=Array.from({length:Oe+1},(W,ue)=>Ve(ue));A({current:{index:0,remainingIndexes:Z,totalItems:o.Children.count(e)},previous:{index:0,remainingIndexes:Z,totalItems:o.Children.count(e)}}),_(Z),et((fe=y==null?void 0:y.current)==null?void 0:fe.remainingIndexes,Z)||h(0);const Me=i.draggable&&(d==null?void 0:d.length)>1;(Se=r.current)==null||Se.classList.toggle("hasDraggable",Me);const Xe=((ve=n==null?void 0:n.current)==null?void 0:ve.offsetWidth)??0;m<=Xe?O(0):O(E)},[d,p.current,t,l,n.current,r.current]),X=i=>{const m=de(i),g=m.responsive?[...m.responsive.map(q=>q.breakpoint)]:[],v=window==null?void 0:window.innerWidth;g.forEach((q,V)=>{var E;if(v<=q){const N=(E=m==null?void 0:m.responsive[V])==null?void 0:E.settings;Object.keys(N).forEach(B=>{m[B]=N[B]})}});const w=de(m);f(w),G(w)},A=i=>{L(m=>({previous:{...m.previous,...i.previous},current:{...m.current,...i.current}}))},J=i=>l.clickTransitionCtrl?b&&i:i,ie=c>0,K=()=>{if(J(ie)){const i=c-1;h(i),A({current:{...y.current,index:i},previous:{...y.previous,index:c}})}},x=c<(d==null?void 0:d.length)-1,u=()=>{if(J(x)){const i=c+1;h(i),A({current:{...y.current,index:i},previous:{...y.previous,index:c}})}},D=o.Children.count(e),ae=i=>i>=0&&i<D,Y=i=>{J(ae(i))&&(h(i),A({current:{...y.current,index:i},previous:{...y.previous,index:c}}))},O=i=>{if(l.layout!=="verticalAlign"&&r!=null&&r.current){const{groupScroll:m,groupItemsScroll:g}=l,v=g>1&&g<=S?g:S,w=m?i*v:i;r.current.style.transform=`translateX(${w}px)`}},j=()=>{$(!1);const i=qe(I,c);O(i),setTimeout(()=>{$(!0)},l.msPerClicks)},F=o.useCallback(()=>{nt(e,p.current)||(p.current=e,X(t))},[e,t]),{start:me,move:Q,end:ce}=st({_sb:M,config:t,currentConfig:l,remainingIndexes:d,spineticContainer:r,_carouselItemsWidths:I,currentIndex:c,_setCarouselContainerTransform:O,previousItem:K,nextItem:u,_handleItemChange:j});return o.useEffect(()=>oe(),[]),o.useEffect(()=>{M&&X(t)},[t,M,e,p.current,r,l.autoWidth,window==null?void 0:window.innerWidth]),o.useEffect(()=>{s&&(d==null?void 0:d.length)>1&&s(y)},[c]),o.useEffect(()=>j(),[d,c]),o.useEffect(()=>F(),[F]),o.useEffect(()=>X(t),[r.current,window==null?void 0:window.innerWidth,l.layout,t,p.current]),o.useEffect(()=>{if(l.autoRotate){const i=setInterval(()=>{h(m=>{const g=m+1,v=g>=d.length?0:g;return A({current:{...y.current,index:v},previous:{...y.previous,index:m}}),v})},l.msPerAutoRotate);return()=>clearInterval(i)}},[d,l.autoRotate]),{currentConfig:l,currentIndex:c,spineticMain:n,prevChildren:p,spineticContainer:r,maxCarouselItems:D,remainingIndexes:d,goToItem:Y,previousItem:K,nextItem:u,start:me,move:Q,end:ce}},he=({children:e,config:t,change:s})=>{const{currentConfig:n,currentIndex:r,spineticMain:p,spineticContainer:l,prevChildren:f,maxCarouselItems:c,remainingIndexes:h,goToItem:S,previousItem:T,nextItem:d,start:_,move:I,end:k}=rt({children:e,config:t,change:s});return te(Re,{children:[n.layout==="default"&&te("div",{className:"controlsInLine spinetic-main",ref:p,children:[a("div",{className:"spinetic-wrapper",children:a(ne,{currentConfig:n,currentIndex:r,remainingIndexes:h,onClickPreviousItem:T,onClickNextItem:d,children:a("div",{className:"spinetic-container",ref:l,onMouseDown:_,onMouseMove:I,onMouseUp:k,onMouseLeave:k,onTouchStart:_,onTouchMove:I,onTouchEnd:k,children:P.Children.map(f.current,b=>P.isValidElement(b)?P.cloneElement(b):a("h1",{children:"Not a React component"}))})})}),a(se,{currentConfig:n,currentIndex:r,maxCarouselItems:c,remainingIndexes:h,goToItem:S})]}),n.layout==="controlsInLine"&&te("div",{className:"controls-in-line spinetic-main",ref:p,children:[a("div",{className:"spinetic-wrapper",children:a("div",{children:a("div",{className:"spinetic-container",ref:l,onMouseDown:_,onMouseMove:I,onMouseUp:k,onMouseLeave:k,onTouchStart:_,onTouchMove:I,onTouchEnd:k,children:P.Children.map(f.current,b=>P.isValidElement(b)?P.cloneElement(b):a("h1",{children:"Not a React component"}))})})}),a(ne,{currentConfig:n,currentIndex:r,remainingIndexes:h,onClickPreviousItem:T,onClickNextItem:d}),a(se,{currentConfig:n,currentIndex:r,maxCarouselItems:c,remainingIndexes:h,goToItem:S})]}),n.layout==="verticalAlign"&&a("div",{className:"spinetic-vertical-align",children:a("div",{children:P.Children.map(f.current,b=>P.isValidElement(b)?P.cloneElement(b):a("h1",{children:"Not a React component"}))})})]})},Le=he;try{he.displayName="Spinetic",he.__docgenInfo={description:"",displayName:"Spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const ot=e=>{const t=e.current,s=e.previous;alert(` change
    { 
      current: {
        index: ${JSON.stringify(t.index)},
        remainingIndexes: ${JSON.stringify(s.remainingIndexes)}
        totalItems: ${JSON.stringify(s.totalItems)}
      },
      previous: {
          index: ${JSON.stringify(s.index)},
          remainingIndexes: ${JSON.stringify(s.remainingIndexes)}
          totalItems: ${JSON.stringify(s.totalItems)}
      }
  }
`)},yt={title:"Pages/Playground",component:Le,argTypes:Be,parameters:{docs:{page:He,source:{language:"tsx"}}},tags:["autodocs"]},re=e=>{const t=Je(e.children),s=e.change;delete e.children,delete e.change;const n={...e};return a(Le,{config:n,change:s?ot:void 0,children:t.map((r,p)=>a(Ye,{children:a(je,{highlightText:!1,index:p,text:r})},p))})},ee=re.bind({}),H=re.bind({});H.args={autoWidth:!0};const U=re.bind({});U.args={autoRotate:!0,msPerAutoRotate:2e3};const z=re.bind({});z.args={children:3,autoWidth:!0,responsive:[{breakpoint:768,settings:{layout:"verticalAlign"}}]};var xe,ye,Ie;ee.parameters={...ee.parameters,docs:{...(xe=ee.parameters)==null?void 0:xe.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ie=(ye=ee.parameters)==null?void 0:ye.docs)==null?void 0:Ie.source}}};var be,we,ke;H.parameters={...H.parameters,docs:{...(be=H.parameters)==null?void 0:be.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ke=(we=H.parameters)==null?void 0:we.docs)==null?void 0:ke.source}}};var Ee,Te,Ae;U.parameters={...U.parameters,docs:{...(Ee=U.parameters)==null?void 0:Ee.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ae=(Te=U.parameters)==null?void 0:Te.docs)==null?void 0:Ae.source}}};var Ne,_e,Ce;z.parameters={...z.parameters,docs:{...(Ne=z.parameters)==null?void 0:Ne.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ce=(_e=z.parameters)==null?void 0:_e.docs)==null?void 0:Ce.source}}};const It=["Default","AutoWidth","AutoRotate","Responsive"];export{U as AutoRotate,H as AutoWidth,ee as Default,z as Responsive,It as __namedExportsOrder,yt as default};
