import{j as l,a as le,F as me,e as he,C as fe}from"./card-example-dc13e54a.js";import{r as o}from"./index-76fb7be0.js";import{v as P,_ as ge,a as ve,h as we}from"./argTypes-4d2d3ca1.js";import xe from"./Playground-121e5383.js";import"./_commonjsHelpers-de833af9.js";import"./index-1e2b3603.js";import"./iframe-8e97faa2.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const _e=()=>l("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),ye=()=>l("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Ie=({children:e,currentConfig:t,currentIndex:a,remainingIndexes:s,onClickPreviousItem:u,onClickNextItem:p})=>{const v=t.arrows&&(s==null?void 0:s.length)>1,r=a===0,f=r&&(t==null?void 0:t.hideArrows),m=a===(s==null?void 0:s.length)-1,T=m&&(t==null?void 0:t.hideArrows);return le("div",{className:"spinetic-container-arrows",children:[v&&l("div",{className:"spinetic-btn-prev",children:l("button",{className:"spinetic-navigation-button",onClick:()=>u(),disabled:r,style:{right:`${t.positionArrowLeft}px`,display:f?"none":"flex"},children:l(_e,{})})}),e,v&&l("div",{className:"spinetic-btn-next",children:l("button",{className:"spinetic-navigation-button",onClick:()=>p(),disabled:m,style:{left:t.autoWidth?`${t.positionArrowRight+4}px`:`${t.positionArrowRight}px`,display:T?"none":"flex"},children:l(ye,{})})})]})};try{spineticarrows.displayName="spineticarrows",spineticarrows.__docgenInfo={description:"",displayName:"spineticarrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const be=({currentConfig:e,currentIndex:t,maxCarouselItems:a,remainingIndexes:s,goToItem:u})=>{const p=e.dots&&(s==null?void 0:s.length)>1;return l(me,{children:p&&l("div",{className:"spinetic-dots",children:s==null?void 0:s.map((v,r)=>l("span",{className:`${e.dotsModel} ${r===t?`active-${e.dotsModel}`:""}`,onClick:()=>u(r),children:e.indexInDots&&l("span",{children:r+1+(a-(s==null?void 0:s.length))})},r))})})};try{spineticdots.displayName="spineticdots",spineticdots.__docgenInfo={description:"",displayName:"spineticdots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Se=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Te=e=>{const t=e==null?void 0:e.reduce((a,s)=>a+s,0);return Math.floor(t)},ce=(e,t)=>{var a;return Math.floor((a=e==null?void 0:e.slice(0,t))==null?void 0:a.reduce((s,u)=>s-u,0))},ke=({currentConfig:e,remainingIndexes:t,spineticContainer:a,_carouselItemsWidths:s,currentIndex:u,_setCarouselContainerTransform:p,previousItem:v,nextItem:r,_handleItemChange:f})=>{const[m,T]=o.useState(0),[x,E]=o.useState(0),[N,I]=o.useState(0),[C,$]=o.useState(!1),[q,U]=o.useState(!1),[_,L]=o.useState(null),[b,O]=o.useState(null),k=()=>{const d="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;U(d?!1:!(e!=null&&e.draggable))};return{start:d=>{var W;if((t==null?void 0:t.length)<=1||(k(),q||e.verticalAlign))return;d.stopPropagation();let i=(W=d==null?void 0:d.touches)==null?void 0:W[0];T((d==null?void 0:d.pageX)||(i==null?void 0:i.pageX)),E(i==null?void 0:i.clientX),I(i==null?void 0:i.clientY),$(!0),L(Se(d.target)),a==null||a.current.classList.add("spinetic-no-transition")},move:d=>{var H;let i=(H=d==null?void 0:d.touches)==null?void 0:H[0],W=i==null?void 0:i.clientX,J=i==null?void 0:i.clientY,R=Math.abs(W-x),A=Math.abs(J-N),Y=q||!C;if(!(A>30||Y||e.verticalAlign)&&(R>A&&R>20||!i)){d.stopPropagation();const z=((d==null?void 0:d.pageX)||(i==null?void 0:i.pageX)-(a==null?void 0:a.current.scrollLeft))-m;O(z);let X=ce(s,u);X+=z,(R>20||!i)&&p(X),b&&Math.abs(b)>(e==null?void 0:e.touchThreshold)&&_&&_.classList.add("no-click")}},end:d=>{var i;$(!1),!(q||e.verticalAlign)&&(d.stopPropagation(),a==null||a.current.classList.remove("spinetic-no-transition"),b&&Math.abs(b)>(e==null?void 0:e.touchThreshold)&&(b>0?v():r(),(i=_==null?void 0:_.classList)==null||i.remove("no-click"),O(null),f(),console.log("ðŸš€ ~ end ~ [in if]:")))}}},We=({children:e,config:t=ge,change:a})=>{var X;const s=o.useRef(null),u=o.useRef(null),[p,v]=o.useState(P(t)),[r,f]=o.useState(0),[m,T]=o.useState([]),[x,E]=o.useState([]),[N,I]=o.useState(!0),[C,$]=o.useState(window==null?void 0:window.innerWidth),[q,U]=o.useState({previous:{index:r,remainingIndexes:m,totalItems:o.Children.count(e)},current:{index:r,remainingIndexes:m,totalItems:o.Children.count(e)}});o.useEffect(()=>{L(t),v(P(t)),console.log("ðŸš€ ~ config:",t)},[t]),o.useEffect(()=>Y(),[m,r]),o.useEffect(()=>{a&&a(q)},[r]),o.useEffect(()=>L(t),[e,C]),o.useEffect(()=>(L(t),window.removeEventListener("resize",_),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)),[(X=u.current)==null?void 0:X.offsetWidth,C,window==null?void 0:window.innerWidth]),o.useEffect(()=>{if(p.autoRotate){const n=setInterval(()=>{f(c=>{const y=c+1,h=y>=m.length?0:y;return k({current:{index:h},previous:{index:c}}),h})},p.msPerAutoRotate);return()=>clearInterval(n)}},[p.autoRotate]);const _=()=>{C!==(window==null?void 0:window.innerWidth)&&($(window==null?void 0:window.innerWidth),L(t))},L=n=>{const c=P(n),y=c.responsive?[...c.responsive.map(g=>g.breakpoint)]:[],h=window==null?void 0:window.innerWidth;if(y.forEach((g,S)=>{var w;if(h<=g){const D=(w=c==null?void 0:c.responsive[S])==null?void 0:w.settings;Object.keys(D).forEach(F=>{c[F]=D[F]})}}),c.verticalAlign){const g={...c,arrows:!1,dots:!1,draggable:!1,fullHeightItems:!1};v(P(g)),b()}else v(P(c)),b(),console.log("ðŸš€ ~ currentOrDefaultConfig:",c)},b=()=>{var ee,te;O();const n=Te(x);(ee=s.current)==null||ee.classList.toggle("spinetic-vertical-align",p.verticalAlign),f(0),console.log("_setCarouselWidth");let c=0,y=0,h=0;x.some(V=>{if(y+=V,y<=(s==null?void 0:s.current.offsetWidth))c++;else return V}),h=Math.max(0,o.Children.count(e)-c);let g=r,S=0;const w=V=>{V.forEach((K,pe)=>{pe<g&&(S+=K)})};g>h?(g=h,S=n-(s==null?void 0:s.current.offsetWidth)):w(x);const D=Array.from({length:h+1},(V,K)=>K+c);k({current:{index:0,remainingIndexes:D,totalItems:o.Children.count(e)},previous:{index:0,remainingIndexes:D,totalItems:o.Children.count(e)}}),T(D);const F=p.draggable&&(m==null?void 0:m.length)>1;(te=u.current)==null||te.classList.toggle("hasDraggable",F),n<=(s==null?void 0:s.current.offsetWidth)?A(0):A(S)},O=()=>{var g,S;const n=((g=u.current)==null?void 0:g.querySelectorAll(".spinetic-item"))??null,c=s.current.offsetWidth,y=(S=u.current)==null?void 0:S.offsetHeight,h=[];return n!==null&&n.forEach(w=>{p.autoWidth?(h.push(w.offsetWidth),w.style.width=""):(h.push(c/p.showItems),w.style.width=c/p.showItems+"px"),p.fullHeightItems?window==null||window.requestAnimationFrame(()=>{w.style.height=y+"px"}):w.style.height=""}),E(h),h},k=n=>{U(c=>({previous:{...c.previous,...n.previous},current:{...c.current,...n.current}}))},j=n=>p.clickTransitionCtrl?N&&n:n,Q=r>0,G=()=>{if(j(Q)){const n=r-1;k({current:{index:n},previous:{index:r}}),f(n)}},d=r<(m==null?void 0:m.length)-1,i=()=>{if(j(d)){const n=r+1;k({current:{index:n},previous:{index:r}}),f(n)}},W=o.Children.count(e),J=n=>n>=0&&n<W,R=n=>{j(J(n))&&(k({current:{index:n},previous:{index:r}}),f(n))},A=n=>{u.current.style.transform=`translateX(${n}px)`},Y=()=>{I(!1);const n=ce(x,r);A(n),setTimeout(()=>{I(!0)},p.msPerClicks)},{start:H,move:Z,end:z}=ke({currentConfig:p,remainingIndexes:m,spineticContainer:u,_carouselItemsWidths:x,currentIndex:r,_setCarouselContainerTransform:A,previousItem:G,nextItem:i,_handleItemChange:Y});return{currentConfig:p,currentIndex:r,spineticMain:s,spineticContainer:u,maxCarouselItems:W,remainingIndexes:m,goToItem:R,previousItem:G,nextItem:i,start:H,move:Z,end:z}},Ae=({children:e,config:t,change:a})=>{const{currentConfig:s,currentIndex:u,spineticMain:p,spineticContainer:v,maxCarouselItems:r,remainingIndexes:f,goToItem:m,previousItem:T,nextItem:x,start:E,move:N,end:I}=We({children:e,config:t,change:a});return le("div",{className:"spinetic-main",ref:p,children:[l("div",{className:"spinetic-wrapper",children:l(Ie,{currentConfig:s,currentIndex:u,remainingIndexes:f,onClickPreviousItem:T,onClickNextItem:x,children:l("div",{className:"spinetic-container",ref:v,onMouseDown:E,onMouseMove:N,onMouseUp:I,onMouseLeave:I,onTouchStart:E,onTouchMove:N,onTouchEnd:I,children:e})})}),l(be,{currentConfig:s,currentIndex:u,maxCarouselItems:r,remainingIndexes:f,goToItem:m})]})},de=Ae;try{spinetic.displayName="spinetic",spinetic.__docgenInfo={description:"",displayName:"spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: any) => void)"}}}}}catch{}const Ee=({children:e})=>l("div",{className:"spinetic-item",children:e});try{spineticitem.displayName="spineticitem",spineticitem.__docgenInfo={description:"",displayName:"spineticitem",props:{}}}catch{}const Ye={title:"pages/Playground",parameters:{docs:{page:xe}},tags:["autodocs"],component:de,argTypes:ve},ue=e=>{const t=e.change;return delete e.change,l(de,{config:e,change:t?we:void 0,children:he.map((s,u)=>l(Ee,{children:l(fe,{highlightText:!1,index:u,text:s})},u))})},B=ue.bind({}),M=ue.bind({});M.args={autoWidth:!0,dotsModel:"long-rounded",fullHeightItems:!0};var se,ne,oe;B.parameters={...B.parameters,docs:{...(se=B.parameters)==null?void 0:se.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const change = args.change;
  delete args.change;
  const config = args;
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {exampleItems.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(oe=(ne=B.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};var re,ie,ae;M.parameters={...M.parameters,docs:{...(re=M.parameters)==null?void 0:re.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const change = args.change;
  delete args.change;
  const config = args;
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {exampleItems.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ae=(ie=M.parameters)==null?void 0:ie.docs)==null?void 0:ae.source}}};const He=["Default","AutoWidth"];export{M as AutoWidth,B as Default,He as __namedExportsOrder,Ye as default};
