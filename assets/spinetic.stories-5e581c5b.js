import{j as l,a as oe,F as de,g as pe,C as me}from"./card-example-a1cc0bc4.js";import{r}from"./index-76fb7be0.js";import{v as F,b as he,_ as fe,a as ge,h as ve}from"./argTypes-ef38145b.js";import we from"./Playground-657aaa8d.js";import"./_commonjsHelpers-de833af9.js";import"./index-ce33b602.js";import"./iframe-a8b98733.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const _e=()=>l("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),Ie=()=>l("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),ye=({children:e,currentConfig:t,currentIndex:i,remainingIndexes:s,onClickPreviousItem:p,onClickNextItem:d})=>{const _=t.arrows&&(s==null?void 0:s.length)>1,o=i===0,v=o&&(t==null?void 0:t.hideArrows),m=i===(s==null?void 0:s.length)-1,W=m&&(t==null?void 0:t.hideArrows);return oe("div",{className:"spinetic-container-arrows",children:[_&&l("div",{className:"spinetic-btn-prev",children:l("button",{className:"spinetic-navigation-button",onClick:()=>p(),disabled:o,style:{right:`${t.positionArrowLeft}px`,display:v?"none":"flex"},children:l(_e,{})})}),e,_&&l("div",{className:"spinetic-btn-next",children:l("button",{className:"spinetic-navigation-button",onClick:()=>d(),disabled:m,style:{left:t.autoWidth?`${t.positionArrowRight+4}px`:`${t.positionArrowRight}px`,display:W?"none":"flex"},children:l(Ie,{})})})]})};try{spineticarrows.displayName="spineticarrows",spineticarrows.__docgenInfo={description:"",displayName:"spineticarrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const xe=({currentConfig:e,currentIndex:t,maxCarouselItems:i,remainingIndexes:s,goToItem:p})=>{const d=e.dots&&(s==null?void 0:s.length)>1;return l(de,{children:d&&l("div",{className:"spinetic-dots",children:s==null?void 0:s.map((_,o)=>l("span",{className:`${e.dotsModel} ${o===t?`active-${e.dotsModel}`:""}`,onClick:()=>p(o),children:e.indexInDots&&l("span",{children:o+1+(i-(s==null?void 0:s.length))})},o))})})};try{spineticdots.displayName="spineticdots",spineticdots.__docgenInfo={description:"",displayName:"spineticdots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Se=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},be=e=>{const t=e==null?void 0:e.reduce((i,s)=>i+s,0);return Math.floor(t)},ie=(e,t)=>{var i;return Math.floor((i=e==null?void 0:e.slice(0,t))==null?void 0:i.reduce((s,p)=>s-p,0))},ke=({currentConfig:e,remainingIndexes:t,spineticContainer:i,_carouselItemsWidths:s,currentIndex:p,_setCarouselContainerTransform:d,previousItem:_,nextItem:o,_handleItemChange:v})=>{const[m,W]=r.useState(0),[y,L]=r.useState(0),[N,S]=r.useState(0),[X,j]=r.useState(!1),[b,B]=r.useState(!1),[h,G]=r.useState(null),[x,Y]=r.useState(null),D=()=>{const c="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;B(c?!1:!(e!=null&&e.draggable))};return{start:c=>{var A;if((t==null?void 0:t.length)<=1||(D(),b||e.verticalAlign))return;c.stopPropagation();let a=(A=c==null?void 0:c.touches)==null?void 0:A[0];W((c==null?void 0:c.pageX)||(a==null?void 0:a.pageX)),L(a==null?void 0:a.clientX),S(a==null?void 0:a.clientY),j(!0),G(Se(c.target)),i==null||i.current.classList.add("spinetic-no-transition")},move:c=>{var O;let a=(O=c==null?void 0:c.touches)==null?void 0:O[0],A=a==null?void 0:a.clientX,K=a==null?void 0:a.clientY,R=Math.abs(A-y),V=Math.abs(K-N),Q=b||!X;if(!(V>30||Q||e.verticalAlign)&&(R>V&&R>20||!a)){c.stopPropagation();const P=((c==null?void 0:c.pageX)||(a==null?void 0:a.pageX)-(i==null?void 0:i.current.scrollLeft))-m;Y(P);let z=ie(s,p);z+=P,(R>20||!a)&&d(z),x&&Math.abs(x)>(e==null?void 0:e.touchThreshold)&&h&&h.classList.add("no-click")}},end:c=>{var a;j(!1),!(b||e.verticalAlign)&&(c.stopPropagation(),i==null||i.current.classList.remove("spinetic-no-transition"),x&&Math.abs(x)>(e==null?void 0:e.touchThreshold)&&(x>0?_():o()),(a=h==null?void 0:h.classList)==null||a.remove("no-click"),Y(null),v())}}},Te=({children:e,config:t=fe,change:i})=>{var ee;const s=r.useRef(null),p=r.useRef(null),[d,_]=r.useState(F(t)),[o,v]=r.useState(0),[m,W]=r.useState([]),[y,L]=r.useState([]),[N,S]=r.useState(!0),[X,j]=r.useState(window==null?void 0:window.innerWidth),[b,B]=r.useState(void 0),[h,G]=r.useState({previous:{index:o,remainingIndexes:m,totalItems:r.Children.count(e)},current:{index:o,remainingIndexes:m,totalItems:r.Children.count(e)}});r.useEffect(()=>Y(),[]),r.useEffect(()=>{b&&D(t)},[t,b]),r.useEffect(()=>P(),[m,o]),r.useEffect(()=>{i&&i(h)},[o]),r.useEffect(()=>D(t),[e,X]),r.useEffect(()=>(D(t),window.removeEventListener("resize",x),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)),[(ee=p.current)==null?void 0:ee.offsetWidth,X,window==null?void 0:window.innerWidth]),r.useEffect(()=>{if(d.autoRotate){const n=setInterval(()=>{v(u=>{const w=u+1,f=w>=m.length?0:w;return q({current:{...h.current,index:f},previous:{...h.current,index:u}}),f})},d.msPerAutoRotate);return()=>clearInterval(n)}},[d.autoRotate]);const x=()=>{X!==(window==null?void 0:window.innerWidth)&&(j(window==null?void 0:window.innerWidth),D(t))},Y=()=>{var g;const n=(g=window==null?void 0:window.location)==null?void 0:g.href,u=!!sessionStorage.getItem("@storybook/manager/store"),w=!!localStorage.getItem("@storybook/manager/store"),f=(n==null?void 0:n.includes("docs"))||u||w;return B(f)},D=n=>{const u=F(n),w=u.responsive?[...u.responsive.map(g=>g.breakpoint)]:[],f=window==null?void 0:window.innerWidth;if(w.forEach((g,k)=>{var I;if(f<=g){const T=(I=u==null?void 0:u.responsive[k])==null?void 0:I.settings;Object.keys(T).forEach(E=>{u[E]=T[E]})}}),u.verticalAlign){const g={...u,arrows:!1,dots:!1,draggable:!1,fullHeightItems:!1};_(F(g)),J()}else _(F(u)),J()},J=()=>{var M,te;Z();const n=be(y);(M=s.current)==null||M.classList.toggle("spinetic-vertical-align",d.verticalAlign);let u=0,w=0,f=0;y.some($=>{if(w+=$,w<=(s==null?void 0:s.current.offsetWidth))u++;else return $}),f=Math.max(0,r.Children.count(e)-u);let g=o,k=0;const I=$=>{$.forEach((U,ue)=>{ue<g&&(k+=U)})};g>f?(g=f,k=n-(s==null?void 0:s.current.offsetWidth)):I(y);const T=Array.from({length:f+1},($,U)=>U+u);q({current:{index:0,remainingIndexes:T,totalItems:r.Children.count(e)},previous:{index:0,remainingIndexes:T,totalItems:r.Children.count(e)}}),W(T),h.current.remainingIndexes!==T&&v(0);const E=d.draggable&&(m==null?void 0:m.length)>1;(te=p.current)==null||te.classList.toggle("hasDraggable",E),n<=(s==null?void 0:s.current.offsetWidth)?C(0):C(k)},Z=()=>{var g,k;const n=((g=p.current)==null?void 0:g.querySelectorAll(".spinetic-item"))??null,u=s.current.offsetWidth,w=(k=p.current)==null?void 0:k.offsetHeight,f=[];return n!==null&&n.forEach((I,T)=>{const E=t.autoWidth??!1;if(b||d.autoWidth,E)f.push(I.offsetWidth),I.style.width="";else{const M=b?he(t.showItems):d.showItems;f.push(u/M),I.style.width=u/M+"px"}d.fullHeightItems?window==null||window.requestAnimationFrame(()=>{I.style.height=w+"px"}):I.style.height=""}),L(f),f},q=n=>{G(u=>({previous:{...u.previous,...n.previous},current:{...u.current,...n.current}}))},c=n=>d.clickTransitionCtrl?N&&n:n,a=o>0,A=()=>{if(c(a)){const n=o-1;q({current:{...h.current,index:n},previous:{...h.current,index:o}}),v(n)}},K=o<(m==null?void 0:m.length)-1,R=()=>{if(c(K)){const n=o+1;q({current:{...h.current,index:n},previous:{...h.current,index:o}}),v(n)}},V=r.Children.count(e),Q=n=>n>=0&&n<V,O=n=>{c(Q(n))&&(q({current:{...h.current,index:n},previous:{...h.current,index:o}}),v(n))},C=n=>{p.current.style.transform=`translateX(${n}px)`},P=()=>{S(!1);const n=ie(y,o);C(n),setTimeout(()=>{S(!0)},d.msPerClicks)},{start:z,move:le,end:ce}=ke({currentConfig:d,remainingIndexes:m,spineticContainer:p,_carouselItemsWidths:y,currentIndex:o,_setCarouselContainerTransform:C,previousItem:A,nextItem:R,_handleItemChange:P});return{currentConfig:d,currentIndex:o,spineticMain:s,spineticContainer:p,maxCarouselItems:V,remainingIndexes:m,goToItem:O,previousItem:A,nextItem:R,start:z,move:le,end:ce}},We=({children:e,config:t,change:i})=>{const{currentConfig:s,currentIndex:p,spineticMain:d,spineticContainer:_,maxCarouselItems:o,remainingIndexes:v,goToItem:m,previousItem:W,nextItem:y,start:L,move:N,end:S}=Te({children:e,config:t,change:i});return oe("div",{className:"spinetic-main",ref:d,children:[l("div",{className:"spinetic-wrapper",children:l(ye,{currentConfig:s,currentIndex:p,remainingIndexes:v,onClickPreviousItem:W,onClickNextItem:y,children:l("div",{className:"spinetic-container",ref:_,onMouseDown:L,onMouseMove:N,onMouseUp:S,onMouseLeave:S,onTouchStart:L,onTouchMove:N,onTouchEnd:S,children:e})})}),l(xe,{currentConfig:s,currentIndex:p,maxCarouselItems:o,remainingIndexes:v,goToItem:m})]})},ae=We;try{spinetic.displayName="spinetic",spinetic.__docgenInfo={description:"",displayName:"spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const Ae=({children:e})=>l("div",{className:"spinetic-item",children:e});try{spineticitem.displayName="spineticitem",spineticitem.__docgenInfo={description:"",displayName:"spineticitem",props:{}}}catch{}const Oe={title:"pages/Playground",parameters:{docs:{page:we}},tags:["autodocs"],component:ae,argTypes:ge},Ee=e=>{const t=pe(e.children),i=e.change;delete e.children,delete e.change;const s={...e};return l(ae,{config:{...s},change:i?ve:void 0,children:t.map((p,d)=>l(Ae,{children:l(me,{highlightText:!1,index:d,text:p})},d))})},H=Ee.bind({});var se,ne,re;H.parameters={...H.parameters,docs:{...(se=H.parameters)==null?void 0:se.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={{
    ...config
  }} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(re=(ne=H.parameters)==null?void 0:ne.docs)==null?void 0:re.source}}};const ze=["Default"];export{H as Default,ze as __namedExportsOrder,Oe as default};
