import{j as p,a as le,F as Ne,g as Xe,S as $e,C as Me}from"./CardExample-edf23076.js";import{r}from"./index-76fb7be0.js";import{_ as X,e as Je,a as He}from"./argTypes-385e44c9.js";import Ye from"./Playground-464f9039.js";import"./_commonjsHelpers-de833af9.js";import"./index-61b8e8ea.js";import"./iframe-4a2dfc1c.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const je=r.memo(()=>p("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:p("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:p("g",{transform:"translate(-9.672 -5.234)",children:p("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})})),Be=r.memo(()=>p("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:p("g",{transform:"translate(-9.672 -5.234)",children:p("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})),ce=({children:t,currentConfig:e,currentIndex:n,remainingIndexes:s,onClickPreviousItem:o,onClickNextItem:c})=>{var x,b,m;const f=e.arrows&&(s==null?void 0:s.length)>1,u=n===0,S=u&&(e==null?void 0:e.hideArrows),l=n===(s==null?void 0:s.length)-1,h=l&&(e==null?void 0:e.hideArrows);return le("div",{className:"spinetic-container-arrows",style:{...(x=e.arrowsStyle)==null?void 0:x.container},children:[f&&p("button",{className:"spinetic-btn-prev",onClick:()=>o(),disabled:u,style:{display:S?"none":"flex",...(b=e.arrowsStyle)==null?void 0:b.btnPrev},children:p(je,{})}),t,f&&p("button",{className:"spinetic-btn-next",onClick:()=>c(),disabled:l,style:{display:h?"none":"flex",...(m=e.arrowsStyle)==null?void 0:m.btnNext},children:p(Be,{})})]})};try{ce.displayName="Arrows",ce.__docgenInfo={description:"",displayName:"Arrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const ie=({currentConfig:t,currentIndex:e,maxCarouselItems:n,remainingIndexes:s,goToItem:o})=>{var f;const c=t.dots&&(s==null?void 0:s.length)>1;return p(Ne,{children:c&&p("div",{className:"spinetic-dots",style:{...(f=t.dotsStyle)==null?void 0:f.container},children:s==null?void 0:s.map((u,S)=>{var l,h;return p("span",{className:`spinetic-dot ${S===e?"spinetic-dot-active":""}`,style:{...(l=t.dotsStyle)==null?void 0:l.dot,...S===e?(h=t.dotsStyle)==null?void 0:h.dotActive:null},onClick:()=>o(S),children:t.itemNumberInDot&&p("span",{className:"spinetic-dot-item-number",children:S+1+(n-(s==null?void 0:s.length))})},S)})})})};try{ie.displayName="Dots",ie.__docgenInfo={description:"",displayName:"Dots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Fe=()=>{var n;const t=(n=window==null?void 0:window.location)==null?void 0:n.href,e=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store"));return(t==null?void 0:t.includes("pages-playground"))&&e},ze=t=>{let e=t;for(;e&&e!==(document==null?void 0:document.documentElement);){if(e.classList&&e.classList.contains("spinetic-item"))return e;e=e.parentElement}return null},Ge=t=>{const e=t==null?void 0:t.reduce((n,s)=>n+s,0);return Math.floor(e)},Ae=(t,e)=>{var n;return Math.floor((n=t==null?void 0:t.slice(0,e))==null?void 0:n.reduce((s,o)=>s-o,0))},Ke=(t,e)=>(t==null?void 0:t.length)!==(e==null?void 0:e.length)||!t||!e?!1:t==null?void 0:t.every((n,s)=>n===e[s]);function Qe(t){return typeof t!="number"||isNaN(t)||!isFinite(t)?1:t}function ue(t,e){let n=0;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){n++;const o=t[s];typeof o=="object"&&o!==null&&!e.has(o)&&(e.add(o),n+=ue(o,e))}return n}function Pe(t,e,n=500,s=new Set){if(!t||!e)return!1;const o=Object.keys(t),c=Object.keys(e);if(o.length!==c.length)return!1;const f=ue(t,s),u=ue(e,s);if(f>n||u>n)return!1;for(const S of o){const l=t[S],h=e[S];if(typeof l=="object"&&l!==null&&typeof h=="object"&&h!==null){if(!Pe(l,h,n,s))return!1}else if(l!==h)return!1}return!0}function Ue(t,e,n=500){return!t||!e?!1:t.every((o,c)=>{var S,l,h,x,b;const f=(l=(S=o==null?void 0:o.props)==null?void 0:S.children)==null?void 0:l.props,u=(b=(x=(h=e[c])==null?void 0:h.props)==null?void 0:x.children)==null?void 0:b.props;return Pe(f,u,n)})}const Ze=t=>!t||!(t!=null&&t.length)?X.responsive:(t==null?void 0:t.sort((n,s)=>s.breakpoint-n.breakpoint))??X.responsive,Ce=t=>{const e=window.innerWidth,n=t>e/2;return t===void 0||n?X.touchThreshold:t},et=t=>!t||t<1?X.showItems:t,tt=t=>typeof t!="boolean"?X.autoWidth:t,ae=t=>{const e=t,n=X;return{arrows:(e==null?void 0:e.arrows)??n.arrows,arrowsStyle:(e==null?void 0:e.arrowsStyle)??n.arrowsStyle,hideArrows:(e==null?void 0:e.hideArrows)??n.hideArrows,dots:(e==null?void 0:e.dots)??n.dots,dotsStyle:(e==null?void 0:e.dotsStyle)??n.dotsStyle,itemNumberInDot:(e==null?void 0:e.itemNumberInDot)??n.itemNumberInDot,autoRotate:(e==null?void 0:e.autoRotate)??n.autoRotate,msPerAutoRotate:(e==null?void 0:e.msPerAutoRotate)??n.msPerAutoRotate,draggable:(e==null?void 0:e.draggable)??n.draggable,touchThreshold:Ce((e==null?void 0:e.touchThreshold)??n.touchThreshold),layout:(e==null?void 0:e.layout)??n.layout,showItems:et((e==null?void 0:e.showItems)??n.showItems),fullHeightItems:(e==null?void 0:e.fullHeightItems)??n.fullHeightItems,autoWidth:tt(e==null?void 0:e.autoWidth),groupScroll:(e==null?void 0:e.groupScroll)??n.groupScroll,groupItemsScroll:(e==null?void 0:e.groupItemsScroll)??n.groupItemsScroll,clickTransitionCtrl:(e==null?void 0:e.clickTransitionCtrl)??n.clickTransitionCtrl,msPerClicks:(e==null?void 0:e.msPerClicks)??n.msPerClicks,responsive:Ze(e==null?void 0:e.responsive)}},nt=({_sb:t,currentConfig:e,remainingIndexes:n,spineticContainer:s,_carouselItemsWidths:o,currentIndex:c,_setCarouselContainerTransform:f,previousItem:u,nextItem:S,_handleItemChange:l})=>{const[h,x]=r.useState(0),[b,m]=r.useState(0),[L,k]=r.useState(0),[j,B]=r.useState(!1),[E,v]=r.useState(!1),[R,te]=r.useState(null),[N,A]=r.useState(null),D=()=>{const y="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;v(y?!1:!(e!=null&&e.draggable))};r.useEffect(()=>{D()},[D,window==null?void 0:window.ontouchstart,navigator==null?void 0:navigator.maxTouchPoints]);const W=r.useCallback(y=>{const i=s==null?void 0:s.current;i&&i.classList[y?"add":"remove"]("spinetic-no-transition")},[s]),F=r.useCallback(y=>{var q;if(t&&!e.draggable||(n==null?void 0:n.length)<=1||E||e.layout==="vertical-align")return;y.stopPropagation();const i=(q=y.touches)==null?void 0:q[0];x(y.pageX||(i==null?void 0:i.pageX)||0),m((i==null?void 0:i.clientX)||0),k((i==null?void 0:i.clientY)||0),B(!0),te(ze(y.target)),E||W(!0)},[e,t,e.draggable,n==null?void 0:n.length,E,W]),z=r.useCallback(y=>{var Q,U;if(t&&!e.draggable||!j||E||e.layout==="vertical-align")return;const i=(Q=y.touches)==null?void 0:Q[0],q=(i==null?void 0:i.clientX)||0,G=(i==null?void 0:i.clientY)||0,$=Math.abs(q-b),K=Math.abs(G-L);if(!(K>30)&&($>K&&$>20||!i)){y.stopPropagation();const d=(y.pageX||((i==null?void 0:i.pageX)||0)-(((U=s==null?void 0:s.current)==null?void 0:U.scrollLeft)||0))-h;A(d);const g=Ae(o,c)+d;($>20||!i)&&f(g),N&&Math.abs(N)>e.touchThreshold&&R&&R.classList.add("no-click")}},[t,e.draggable,j,E,e.layout,b,L,h,N,R,o,c,f]),ne=r.useCallback(y=>{t&&!e.draggable||E||e.layout==="vertical-align"||(B(!1),y.stopPropagation(),N&&Math.abs(N)>e.touchThreshold&&(N>0?u():S()),R&&R.classList.remove("no-click"),A(null),l(),W(!1))},[t,e.draggable,E,e.layout,N,u,S,R,l,W]);return{start:F,move:z,end:ne}},st=({children:t,config:e=X,change:n})=>{const[s]=r.useState(Fe()),o=r.useRef(null),c=r.useRef(null),f=r.useRef(t),[u,S]=r.useState(ae(e)),[l,h]=r.useState(0),[x,b]=r.useState(1),[m,L]=r.useState([]),[k,j]=r.useState([]),[B,E]=r.useState(!0),[v,R]=r.useState(Je),te=r.useCallback(a=>{const d=c.current,g=o.current;if(!d||!g)return null;const w=d.querySelectorAll(".spinetic-item"),{autoWidth:I,showItems:P,fullHeightItems:V}=a,T=[];return w!==null&&(w==null||w.forEach(_=>{I?(T.push(_.offsetWidth),_.style.width=""):(T.push(g.offsetWidth/P),_.style.width=g.offsetWidth/P+"px"),V?window.requestAnimationFrame(()=>{_.style.height=d.offsetHeight+"px"}):_.style.height=""})),j(T),T},[m,f.current,e,u,o.current,c.current,t]),N=r.useCallback(a=>{var pe,me,he,ge;if(a.layout==="vertical-align")return;te(a);const d=Ge(k);let g=0,w=0,I=0;const P=((pe=o==null?void 0:o.current)==null?void 0:pe.offsetWidth)??0;k.some(O=>{if(w+=O,w<=P)g++,b(g);else return O}),I=Math.max(0,r.Children.count(t)-g);let V=l,T=0;const _=O=>{O.forEach((oe,Ve)=>{Ve<V&&(T+=oe)})};V>I?(V=I,T=d-P):_(k);const{groupScroll:M,groupItemsScroll:se}=a,re=se>1&&se<=g?se:g,De=Math.ceil(Qe(I/re)),We=(t==null?void 0:t.length)>0&&M?De:I,qe=O=>M?(O+1)*g:O+g-1,Z=Array.from({length:We+1},(O,oe)=>qe(oe));D({current:{index:0,remainingIndexes:Z,totalItems:r.Children.count(t),itemsPerScroll:re},previous:{index:0,remainingIndexes:Z,totalItems:r.Children.count(t),itemsPerScroll:re}}),L(Z),Ke((me=v==null?void 0:v.current)==null?void 0:me.remainingIndexes,Z)||h(0);const Oe=a.draggable&&(m==null?void 0:m.length)>1;(he=c.current)==null||he.classList.toggle("hasDraggable",Oe);const Le=((ge=o==null?void 0:o.current)==null?void 0:ge.offsetWidth)??0;d<=Le?i(0):i(T)},[m,f.current,e,u,o.current,c.current,t]),A=r.useCallback(a=>{const d=ae(a),g=d.responsive?[...d.responsive.map(P=>P.breakpoint)]:[],w=window==null?void 0:window.innerWidth;g.forEach((P,V)=>{var T;if(w<=P){const _=(T=d==null?void 0:d.responsive[V])==null?void 0:T.settings;Object.keys(_).forEach(M=>{d[M]=_[M]})}});const I=ae(d);S(I),N(I)},[f.current,c.current,window.innerWidth,...s?[e,t,u.layout,u.autoWidth,u.fullHeightItems]:[]]),D=a=>{R(d=>({previous:{...d.previous,...a.previous},current:{...d.current,...a.current}}))},W=a=>u.clickTransitionCtrl?B&&a:a,F=()=>{if(W(l>0)){const a=l-1;h(a),D({current:{...v.current,index:a},previous:{...v.previous,index:l}})}},z=()=>{if(W(l<(m==null?void 0:m.length)-1)){const a=l+1;h(a),D({current:{...v.current,index:a},previous:{...v.previous,index:l}})}},ne=a=>a>=0&&a<r.Children.count(t),y=a=>{W(ne(a))&&(h(a),D({current:{...v.current,index:a},previous:{...v.previous,index:l}}))},i=a=>{if(u.layout!=="vertical-align"&&c!=null&&c.current){const{groupScroll:d,groupItemsScroll:g}=u,w=g>1&&g<=x?g:x,I=d?a*w:a;c.current.style.transform=`translateX(${I}px)`}},q=r.useCallback(()=>{E(!1);const a=Ae(k,l);i(a),setTimeout(()=>{E(!0)},u.msPerClicks)},[m,l]),G=r.useCallback(()=>{Ue(t,f.current)||(A(e),f.current=t)},[e,t]),$=r.useCallback(()=>{if(u.autoRotate){const a=setInterval(()=>{h(d=>{const g=d+1,w=g>=m.length?0:g;return D({current:{...v.current,index:w},previous:{...v.previous,index:d}}),w})},u.msPerAutoRotate);return()=>clearInterval(a)}},[m,u.autoRotate]),{start:K,move:Q,end:U}=nt({_sb:s,config:e,currentConfig:u,remainingIndexes:m,spineticContainer:c,_carouselItemsWidths:k,currentIndex:l,_setCarouselContainerTransform:i,previousItem:F,nextItem:z,_handleItemChange:q});return r.useEffect(()=>$(),[$]),r.useEffect(()=>q(),[q]),r.useEffect(()=>{A(e)},[A]),r.useEffect(()=>G(),[G]),r.useEffect(()=>{n&&(m==null?void 0:m.length)>1&&n(v)},[l]),r.useEffect(()=>window.addEventListener("resize",()=>A(e)),[window.innerWidth,c.current,e]),r.useEffect(()=>{s&&A(e)},[s,A]),{currentConfig:u,prevChildren:f,currentIndex:l,spineticMain:o,spineticContainer:c,maxCarouselItems:r.Children.count(t),remainingIndexes:m,goToItem:y,previousItem:F,nextItem:z,start:K,move:Q,end:U}},de=({children:t,config:e,change:n})=>{const{currentConfig:s,prevChildren:o,currentIndex:c,spineticMain:f,spineticContainer:u,maxCarouselItems:S,remainingIndexes:l,goToItem:h,previousItem:x,nextItem:b,start:m,move:L,end:k}=st({children:t,config:e,change:n});return le(Ne,{children:[s.layout!=="vertical-align"&&le("div",{className:`spinetic-main spinetic-layout-${s.layout}`,ref:f,children:[p("div",{className:"spinetic-wrapper",children:p("div",{children:p("div",{className:"spinetic-container",ref:u,onMouseDown:m,onMouseMove:L,onMouseUp:k,onMouseLeave:k,onTouchStart:m,onTouchMove:L,onTouchEnd:k,children:o.current})})}),p(ce,{currentConfig:s,currentIndex:c,remainingIndexes:l,onClickPreviousItem:x,onClickNextItem:b}),p(ie,{currentConfig:s,currentIndex:c,maxCarouselItems:S,remainingIndexes:l,goToItem:h})]}),s.layout==="vertical-align"&&p("div",{className:"spinetic-layout-vertical-align",children:p("div",{children:t})})]})},Re=de;try{de.displayName="Spinetic",de.__docgenInfo={description:"",displayName:"Spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const rt=t=>{const e=t.current,n=t.previous;alert(` change
    { 
      current: {
        index: ${JSON.stringify(e.index)},
        remainingIndexes: ${JSON.stringify(n.remainingIndexes)}
        totalItems: ${JSON.stringify(n.totalItems)}
        itemsPerScroll: ${JSON.stringify(n.itemsPerScroll)}
      },
      previous: {
        index: ${JSON.stringify(n.index)},
        remainingIndexes: ${JSON.stringify(n.remainingIndexes)}
        totalItems: ${JSON.stringify(n.totalItems)}
        itemsPerScroll: ${JSON.stringify(n.itemsPerScroll)}
      }
  }
`)},vt={title:"Pages/Playground",component:Re,argTypes:He,parameters:{docs:{page:Ye,source:{language:"tsx"}}},tags:["autodocs"]},ee=t=>{const e=Xe(t.children),n=t.change;delete t.children,delete t.change;const s={...t};return p(Re,{config:s,change:n?rt:void 0,children:e.map((o,c)=>p($e,{children:p(Me,{highlightText:!1,index:c,text:o})},c))})},C=ee.bind({}),J=ee.bind({});J.args={autoWidth:!0};const H=ee.bind({});H.args={autoRotate:!0,msPerAutoRotate:2e3};const Y=ee.bind({});Y.args={children:3,showItems:2,layout:"ctrls-in-line-2",responsive:[{breakpoint:768,settings:{layout:"vertical-align"}}]};var fe,Se,ye;C.parameters={...C.parameters,docs:{...(fe=C.parameters)==null?void 0:fe.docs,source:{originalSource:`(args: T.TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ye=(Se=C.parameters)==null?void 0:Se.docs)==null?void 0:ye.source}}};var ve,we,xe;J.parameters={...J.parameters,docs:{...(ve=J.parameters)==null?void 0:ve.docs,source:{originalSource:`(args: T.TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(xe=(we=J.parameters)==null?void 0:we.docs)==null?void 0:xe.source}}};var be,Ie,ke;H.parameters={...H.parameters,docs:{...(be=H.parameters)==null?void 0:be.docs,source:{originalSource:`(args: T.TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ke=(Ie=H.parameters)==null?void 0:Ie.docs)==null?void 0:ke.source}}};var Te,Ee,_e;Y.parameters={...Y.parameters,docs:{...(Te=Y.parameters)==null?void 0:Te.docs,source:{originalSource:`(args: T.TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(_e=(Ee=Y.parameters)==null?void 0:Ee.docs)==null?void 0:_e.source}}};const wt=["Default","AutoWidth","AutoRotate","Responsive"];export{H as AutoRotate,J as AutoWidth,C as Default,Y as Responsive,wt as __namedExportsOrder,vt as default};
