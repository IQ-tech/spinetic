import{j as a,a as ae,F as Te,g as Me,C as Oe}from"./CardExample-d31eb566.js";import{r as o,R as O}from"./index-76fb7be0.js";import{v as ce,_ as $e,a as Ye,h as je}from"./argTypes-fa25b57b.js";import Fe from"./Playground-eed4a020.js";import"./_commonjsHelpers-de833af9.js";import"./index-55f3e704.js";import"./iframe-fb0732a4.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const Be=()=>a("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:a("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:a("g",{transform:"translate(-9.672 -5.234)",children:a("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),He=o.memo(Be),ze=()=>a("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:a("g",{transform:"translate(-9.672 -5.234)",children:a("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),Ge=o.memo(ze),le=({children:e,currentConfig:t,currentIndex:s,remainingIndexes:n,onClickPreviousItem:r,onClickNextItem:h})=>{const u=t.arrows&&(n==null?void 0:n.length)>1,g=s===0,l=g&&(t==null?void 0:t.hideArrows),m=s===(n==null?void 0:n.length)-1,v=m&&(t==null?void 0:t.hideArrows);return ae("div",{className:"spinetic-container-arrows",children:[u&&a("div",{className:"spinetic-btn-prev",children:a("button",{className:"spinetic-navigation-button",onClick:()=>r(),disabled:g,style:{right:`${t.arrowLeftPosition}px`,display:l?"none":"flex"},children:a(He,{})})}),e,u&&a("div",{className:"spinetic-btn-next",children:a("button",{className:"spinetic-navigation-button",onClick:()=>h(),disabled:m,style:{left:t.autoWidth?`${t.arrowRightPosition+4}px`:`${t.arrowRightPosition}px`,display:v?"none":"flex"},children:a(Ge,{})})})]})};try{le.displayName="SpineticArrows",le.__docgenInfo={description:"",displayName:"SpineticArrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const ie=({currentConfig:e,currentIndex:t,maxCarouselItems:s,remainingIndexes:n,goToItem:r})=>{const h=e.dots&&(n==null?void 0:n.length)>1;return a(Te,{children:h&&a("div",{className:"spinetic-dots",children:n==null?void 0:n.map((u,g)=>a("span",{className:`${e.dotsModel} ${g===t?`active-${e.dotsModel}`:""}`,onClick:()=>r(g),children:e.indexInDots&&a("span",{children:g+1+(s-(n==null?void 0:n.length))})},g))})})};try{ie.displayName="SpineticDots",ie.__docgenInfo={description:"",displayName:"SpineticDots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const Je=e=>{let t=e;for(;t&&t!==(document==null?void 0:document.documentElement);){if(t.classList&&t.classList.contains("spinetic-item"))return t;t=t.parentElement}return null},Ke=e=>{const t=e==null?void 0:e.reduce((s,n)=>s+n,0);return Math.floor(t)},Ne=(e,t)=>{var s;return Math.floor((s=e==null?void 0:e.slice(0,t))==null?void 0:s.reduce((n,r)=>n-r,0))},Qe=(e,t)=>(e==null?void 0:e.length)!==(t==null?void 0:t.length)||!e||!t?!1:e==null?void 0:e.every((s,n)=>s===t[n]);function Ue(e){return typeof e!="number"||isNaN(e)||!isFinite(e)?1:e}function ue(e,t){let s=0;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){s++;const r=e[n];typeof r=="object"&&r!==null&&!t.has(r)&&(t.add(r),s+=ue(r,t))}return s}function qe(e,t,s=500,n=new Set){if(!e||!t)return!1;const r=Object.keys(e),h=Object.keys(t);if(r.length!==h.length)return!1;const u=ue(e,n),g=ue(t,n);if(u>s||g>s)return!1;for(const l of r){const m=e[l],v=t[l];if(typeof m=="object"&&m!==null&&typeof v=="object"&&v!==null){if(!qe(m,v,s,n))return!1}else if(m!==v)return!1}return!0}function Ze(e,t,s=500){return!e||!t?!1:e.every((r,h)=>{var l,m,v,E,d;const u=(m=(l=r==null?void 0:r.props)==null?void 0:l.children)==null?void 0:m.props,g=(d=(E=(v=t[h])==null?void 0:v.props)==null?void 0:E.children)==null?void 0:d.props;return qe(u,g,s)})}const et=({_sb:e,config:t,currentConfig:s,remainingIndexes:n,spineticContainer:r,_carouselItemsWidths:h,currentIndex:u,_setCarouselContainerTransform:g,previousItem:l,nextItem:m,_handleItemChange:v})=>{const[E,d]=o.useState(0),[D,I]=o.useState(0),[R,A]=o.useState(0),[$,X]=o.useState(!1),[T,b]=o.useState(!1),[P,ee]=o.useState(null),[N,J]=o.useState(null),M=()=>{const x="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;b(x?!1:!(s!=null&&s.draggable))};o.useEffect(()=>{M()},[M,window==null?void 0:window.ontouchstart,navigator==null?void 0:navigator.maxTouchPoints]);const k=o.useCallback(x=>{const i=r==null?void 0:r.current;i&&i.classList[x?"add":"remove"]("spinetic-no-transition")},[r]),Y=o.useCallback(x=>{var W;if(e&&!s.draggable||(n==null?void 0:n.length)<=1||T||s.verticalAlign)return;x.stopPropagation();const i=(W=x.touches)==null?void 0:W[0];d(x.pageX||(i==null?void 0:i.pageX)||0),I((i==null?void 0:i.clientX)||0),A((i==null?void 0:i.clientY)||0),X(!0),ee(Je(x.target)),T||k(!0)},[s,e,s.draggable,n==null?void 0:n.length,T,k]),te=o.useCallback(x=>{var F,B;if(e&&!s.draggable||!$||T||s.verticalAlign)return;const i=(F=x.touches)==null?void 0:F[0],W=(i==null?void 0:i.clientX)||0,ne=(i==null?void 0:i.clientY)||0,j=Math.abs(W-D),L=Math.abs(ne-R);if(!(L>30)&&(j>L&&j>20||!i)){x.stopPropagation();const Q=(x.pageX||((i==null?void 0:i.pageX)||0)-(((B=r==null?void 0:r.current)==null?void 0:B.scrollLeft)||0))-E;J(Q);const se=Ne(h,u)+Q;(j>20||!i)&&g(se),N&&Math.abs(N)>s.touchThreshold&&P&&P.classList.add("no-click")}},[e,s.draggable,$,T,s.verticalAlign,D,R,E,N,P,h,u,g]),K=o.useCallback(x=>{e&&!s.draggable||T||s.verticalAlign||(X(!1),x.stopPropagation(),N&&Math.abs(N)>s.touchThreshold&&(N>0?l():m()),P&&P.classList.remove("no-click"),J(null),v(),k(!1))},[e,s.draggable,T,s.verticalAlign,N,l,m,P,v,k]);return{start:Y,move:te,end:K}},tt=({children:e,config:t=$e,change:s})=>{const n=o.useRef(null),r=o.useRef(null),h=o.useRef(e),[u,g]=o.useState(ce(t)),[l,m]=o.useState(0),[v,E]=o.useState(1),[d,D]=o.useState([]),[I,R]=o.useState([]),[A,$]=o.useState(!0),[X,T]=o.useState(void 0),[b,P]=o.useState({previous:{index:l,remainingIndexes:d,totalItems:o.Children.count(e)},current:{index:l,remainingIndexes:d,totalItems:o.Children.count(e)}}),ee=()=>{var S;const c=(S=window==null?void 0:window.location)==null?void 0:S.href,p=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),f=(c==null?void 0:c.includes("pages-playground"))&&p;return T(f)},N=o.useCallback(c=>{const p=r.current,f=n.current;if(!p||!f)return null;const S=p.querySelectorAll(".spinetic-item"),{autoWidth:y,showItems:q,fullHeightItems:V}=c,w=[];return S!==null&&(S==null||S.forEach(_=>{y?(w.push(_.offsetWidth),_.style.width=""):(w.push(f.offsetWidth/q),_.style.width=f.offsetWidth/q+"px"),V?window.requestAnimationFrame(()=>{_.style.height=p.offsetHeight+"px"}):_.style.height=""})),R(w),w},[d,h.current,t,u,n.current,r.current]),J=o.useCallback(c=>{var fe,ge,ve,Se;if(c.verticalAlign)return;N(c);const p=Ke(I);let f=0,S=0,y=0;const q=((fe=n==null?void 0:n.current)==null?void 0:fe.offsetWidth)??0;I.some(C=>{if(S+=C,S<=q)f++,E(f);else return C}),y=Math.max(0,o.Children.count(e)-f);let V=l,w=0;const _=C=>{C.forEach((oe,Xe)=>{Xe<V&&(w+=oe)})};V>y?(V=y,w=p-q):_(I);const{groupScroll:H,groupItemsScroll:re}=c,Pe=re>1&&re<=f?re:f,Ce=Math.ceil(Ue(y/Pe)),De=H?Ce:y,We=C=>H?(C+1)*f:C+f,U=Array.from({length:De+1},(C,oe)=>We(oe));k({current:{index:0,remainingIndexes:U,totalItems:o.Children.count(e)},previous:{index:0,remainingIndexes:U,totalItems:o.Children.count(e)}}),D(U),Qe((ge=b==null?void 0:b.current)==null?void 0:ge.remainingIndexes,U)||m(0);const Le=c.draggable&&(d==null?void 0:d.length)>1;(ve=r.current)==null||ve.classList.toggle("hasDraggable",Le);const Ve=((Se=n==null?void 0:n.current)==null?void 0:Se.offsetWidth)??0;p<=Ve?L(0):L(w)},[d,h.current,t,u,n.current,r.current]),M=c=>{const p=ce(c),f=p.responsive?[...p.responsive.map(q=>q.breakpoint)]:[],S=window==null?void 0:window.innerWidth;f.forEach((q,V)=>{var w;if(S<=q){const _=(w=p==null?void 0:p.responsive[V])==null?void 0:w.settings;Object.keys(_).forEach(H=>{p[H]=_[H]})}});const y=ce(p);g(y),J(y)},k=c=>{P(p=>({previous:{...p.previous,...c.previous},current:{...p.current,...c.current}}))},Y=c=>u.clickTransitionCtrl?A&&c:c,te=l>0,K=()=>{if(Y(te)){const c=l-1;m(c),k({current:{...b.current,index:c},previous:{...b.previous,index:l}})}},x=l<(d==null?void 0:d.length)-1,i=()=>{if(Y(x)){const c=l+1;m(c),k({current:{...b.current,index:c},previous:{...b.previous,index:l}})}},W=o.Children.count(e),ne=c=>c>=0&&c<W,j=c=>{Y(ne(c))&&(m(c),k({current:{...b.current,index:c},previous:{...b.previous,index:l}}))},L=c=>{u.verticalAlign||r!=null&&r.current&&(r.current.style.transform=`translateX(${c}px)`)},F=()=>{$(!1);const c=Ne(I,l),{groupScroll:p,groupItemsScroll:f}=u,S=f>1&&f<=v?f:v,y=p?c*S:c;L(y),setTimeout(()=>{$(!0)},u.msPerClicks)},B=o.useCallback(()=>{Ze(e,h.current)||(h.current=e,M(t))},[e,t]),{start:me,move:Q,end:se}=et({_sb:X,config:t,currentConfig:u,remainingIndexes:d,spineticContainer:r,_carouselItemsWidths:I,currentIndex:l,_setCarouselContainerTransform:L,previousItem:K,nextItem:i,_handleItemChange:F});return o.useEffect(()=>ee(),[]),o.useEffect(()=>F(),[d,l]),o.useEffect(()=>{s&&(d==null?void 0:d.length)>1&&s(b)},[l]),o.useEffect(()=>{X&&M(t)},[t,X,e,h.current,r,u.autoWidth]),o.useEffect(()=>{M(t)},[r.current,window==null?void 0:window.innerWidth,u.verticalAlign,t,h.current]),o.useEffect(()=>{if(u.autoRotate){const c=setInterval(()=>{m(p=>{const f=p+1,S=f>=d.length?0:f;return k({current:{...b.current,index:S},previous:{...b.previous,index:p}}),S})},u.msPerAutoRotate);return()=>clearInterval(c)}},[d,u.autoRotate]),o.useEffect(()=>B(),[B]),{currentConfig:u,currentIndex:l,spineticMain:n,prevChildren:h,spineticContainer:r,maxCarouselItems:W,remainingIndexes:d,goToItem:j,previousItem:K,nextItem:i,start:me,move:Q,end:se}},de=({children:e,config:t,change:s})=>{const{currentConfig:n,currentIndex:r,spineticMain:h,spineticContainer:u,prevChildren:g,maxCarouselItems:l,remainingIndexes:m,goToItem:v,previousItem:E,nextItem:d,start:D,move:I,end:R}=tt({children:e,config:t,change:s});return ae(Te,{children:[n.verticalAlign&&a("div",{className:"spinetic-vertical-align",children:a("div",{children:O.Children.map(g.current,A=>O.isValidElement(A)?O.cloneElement(A):a("h1",{children:"Not a React component"}))})}),!n.verticalAlign&&ae("div",{className:"spinetic-main",ref:h,children:[a("div",{className:"spinetic-wrapper",children:a(le,{currentConfig:n,currentIndex:r,remainingIndexes:m,onClickPreviousItem:E,onClickNextItem:d,children:a("div",{className:"spinetic-container",ref:u,onMouseDown:D,onMouseMove:I,onMouseUp:R,onMouseLeave:R,onTouchStart:D,onTouchMove:I,onTouchEnd:R,children:O.Children.map(g.current,A=>O.isValidElement(A)?O.cloneElement(A):a("h1",{children:"Not a React component"}))})})}),a(ie,{currentConfig:n,currentIndex:r,maxCarouselItems:l,remainingIndexes:m,goToItem:v})]})]})},Re=de;try{de.displayName="Spinetic",de.__docgenInfo={description:"",displayName:"Spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const pe=({children:e})=>a("div",{className:"spinetic-item",children:e}),nt=o.memo(pe);try{pe.displayName="SpineticItem",pe.__docgenInfo={description:"",displayName:"SpineticItem",props:{}}}catch{}const vt={title:"Pages/Playground",component:Re,argTypes:Ye,parameters:{docs:{page:Fe,source:{language:"tsx"}}},tags:["autodocs"]},he=e=>{const t=Me(e.children),s=e.change;delete e.children,delete e.change;const n={...e};return a(Re,{config:n,change:s?je:void 0,children:t.map((r,h)=>a(nt,{children:a(Oe,{highlightText:!1,index:h,text:r})},h))})},Z=he.bind({}),z=he.bind({});z.args={autoWidth:!0};const G=he.bind({});G.args={autoRotate:!0,msPerAutoRotate:2e3};var xe,be,ye;Z.parameters={...Z.parameters,docs:{...(xe=Z.parameters)==null?void 0:xe.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ye=(be=Z.parameters)==null?void 0:be.docs)==null?void 0:ye.source}}};var we,Ie,ke;z.parameters={...z.parameters,docs:{...(we=z.parameters)==null?void 0:we.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(ke=(Ie=z.parameters)==null?void 0:Ie.docs)==null?void 0:ke.source}}};var _e,Ee,Ae;G.parameters={...G.parameters,docs:{...(_e=G.parameters)==null?void 0:_e.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  return <Spinetic config={config} change={change ? handleChange : undefined}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(Ae=(Ee=G.parameters)==null?void 0:Ee.docs)==null?void 0:Ae.source}}};const St=["Default","AutoWidth","AutoRotate"];export{G as AutoRotate,z as AutoWidth,Z as Default,St as __namedExportsOrder,vt as default};
