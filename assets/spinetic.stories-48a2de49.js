import{j as l,a as at,F as pt,g as mt,C as ht}from"./card-example-a1cc0bc4.js";import{r as o}from"./index-76fb7be0.js";import{v as F,b as ft,_ as gt,a as vt}from"./argTypes-c08c28b4.js";import wt from"./Playground-87b4ee36.js";import"./_commonjsHelpers-de833af9.js";import"./index-64e3b690.js";import"./iframe-e91e0a4d.js";import"../sb-preview/runtime.js";import"./index-d3ea75b5.js";import"./index-11d98b33.js";import"./index-8fd8397b.js";import"./index-356e4a49.js";import"./index-a1cf9e47.js";const _t=()=>l("svg",{style:{marginRight:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"matrix(-1 0 0 -1 12.828 21.657)",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})})}),yt=()=>l("svg",{style:{marginLeft:"2px"},xmlns:"http://www.w3.org/2000/svg",height:"21",width:"13",viewBox:"0 0 13 21",children:l("g",{transform:"translate(-9.672 -5.234)",children:l("path",{d:"M12.5,24.062l8-8-8-8",fill:"none",stroke:"#ffffff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"})})}),It=({children:t,currentConfig:e,currentIndex:a,remainingIndexes:s,onClickPreviousItem:m,onClickNextItem:p})=>{const v=e.arrows&&(s==null?void 0:s.length)>1,r=a===0,w=r&&(e==null?void 0:e.hideArrows),d=a===(s==null?void 0:s.length)-1,W=d&&(e==null?void 0:e.hideArrows);return at("div",{className:"spinetic-container-arrows",children:[v&&l("div",{className:"spinetic-btn-prev",children:l("button",{className:"spinetic-navigation-button",onClick:()=>m(),disabled:r,style:{right:`${e.arrowLeftPosition}px`,display:w?"none":"flex"},children:l(_t,{})})}),t,v&&l("div",{className:"spinetic-btn-next",children:l("button",{className:"spinetic-navigation-button",onClick:()=>p(),disabled:d,style:{left:e.autoWidth?`${e.arrowRightPosition+4}px`:`${e.arrowRightPosition}px`,display:W?"none":"flex"},children:l(yt,{})})})]})};try{spineticarrows.displayName="spineticarrows",spineticarrows.__docgenInfo={description:"",displayName:"spineticarrows",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},onClickPreviousItem:{defaultValue:null,description:"",name:"onClickPreviousItem",required:!0,type:{name:"() => void"}},onClickNextItem:{defaultValue:null,description:"",name:"onClickNextItem",required:!0,type:{name:"() => void"}}}}}catch{}const St=({currentConfig:t,currentIndex:e,maxCarouselItems:a,remainingIndexes:s,goToItem:m})=>{const p=t.dots&&(s==null?void 0:s.length)>1;return l(pt,{children:p&&l("div",{className:"spinetic-dots",children:s==null?void 0:s.map((v,r)=>l("span",{className:`${t.dotsModel} ${r===e?`active-${t.dotsModel}`:""}`,onClick:()=>m(r),children:t.indexInDots&&l("span",{children:r+1+(a-(s==null?void 0:s.length))})},r))})})};try{spineticdots.displayName="spineticdots",spineticdots.__docgenInfo={description:"",displayName:"spineticdots",props:{currentConfig:{defaultValue:null,description:"",name:"currentConfig",required:!0,type:{name:"Required<TypesConfigOptional>"}},currentIndex:{defaultValue:null,description:"",name:"currentIndex",required:!0,type:{name:"number"}},maxCarouselItems:{defaultValue:null,description:"",name:"maxCarouselItems",required:!0,type:{name:"number"}},remainingIndexes:{defaultValue:null,description:"",name:"remainingIndexes",required:!0,type:{name:"number[]"}},goToItem:{defaultValue:null,description:"",name:"goToItem",required:!0,type:{name:"(p0: number) => void"}}}}}catch{}const xt=t=>{let e=t;for(;e&&e!==(document==null?void 0:document.documentElement);){if(e.classList&&e.classList.contains("spinetic-item"))return e;e=e.parentElement}return null},bt=t=>{const e=t==null?void 0:t.reduce((a,s)=>a+s,0);return Math.floor(e)},it=(t,e)=>{var a;return Math.floor((a=t==null?void 0:t.slice(0,e))==null?void 0:a.reduce((s,m)=>s-m,0))},Tt=({currentConfig:t,remainingIndexes:e,spineticContainer:a,_carouselItemsWidths:s,currentIndex:m,_setCarouselContainerTransform:p,previousItem:v,nextItem:r,_handleItemChange:w})=>{const[d,W]=o.useState(0),[I,L]=o.useState(0),[N,x]=o.useState(0),[q,j]=o.useState(!1),[b,B]=o.useState(!1),[h,G]=o.useState(null),[S,Y]=o.useState(null),X=()=>{const c="ontouchstart"in window||(navigator==null?void 0:navigator.maxTouchPoints)>0;B(c?!1:!(t!=null&&t.draggable))};return{start:c=>{var E;if((e==null?void 0:e.length)<=1||(X(),b||t.verticalAlign))return;c.stopPropagation();let i=(E=c==null?void 0:c.touches)==null?void 0:E[0];W((c==null?void 0:c.pageX)||(i==null?void 0:i.pageX)),L(i==null?void 0:i.clientX),x(i==null?void 0:i.clientY),j(!0),G(xt(c.target)),a==null||a.current.classList.add("spinetic-no-transition")},move:c=>{var O;let i=(O=c==null?void 0:c.touches)==null?void 0:O[0],E=i==null?void 0:i.clientX,K=i==null?void 0:i.clientY,D=Math.abs(E-I),R=Math.abs(K-N),Q=b||!q;if(!(R>30||Q||t.verticalAlign)&&(D>R&&D>20||!i)){c.stopPropagation();const C=((c==null?void 0:c.pageX)||(i==null?void 0:i.pageX)-(a==null?void 0:a.current.scrollLeft))-d;Y(C);let z=it(s,m);z+=C,(D>20||!i)&&p(z),S&&Math.abs(S)>(t==null?void 0:t.touchThreshold)&&h&&h.classList.add("no-click")}},end:c=>{var i;j(!1),!(b||t.verticalAlign)&&(c.stopPropagation(),a==null||a.current.classList.remove("spinetic-no-transition"),S&&Math.abs(S)>(t==null?void 0:t.touchThreshold)&&(S>0?v():r()),(i=h==null?void 0:h.classList)==null||i.remove("no-click"),Y(null),w())}}},kt=({children:t,config:e=gt,change:a})=>{var et;const s=o.useRef(null),m=o.useRef(null),[p,v]=o.useState(F(e)),[r,w]=o.useState(0),[d,W]=o.useState([]),[I,L]=o.useState([]),[N,x]=o.useState(!0),[q,j]=o.useState(window==null?void 0:window.innerWidth),[b,B]=o.useState(void 0),[h,G]=o.useState({previous:{index:r,remainingIndexes:d,totalItems:o.Children.count(t)},current:{index:r,remainingIndexes:d,totalItems:o.Children.count(t)}});o.useEffect(()=>Y(),[]),o.useEffect(()=>{b&&X(e)},[e,b]),o.useEffect(()=>C(),[d,r]),o.useEffect(()=>{console.log("ðŸš€ ~ !!change:",!!a),a&&(d==null?void 0:d.length)>0&&(console.log("ðŸš€ ~ change:",a),console.log("ðŸš€ ~ useEffect ~ elementsChange:",h),console.log("ðŸš€ ~ currentIndex:",r))},[r]),o.useEffect(()=>X(e),[t,q]),o.useEffect(()=>(window.removeEventListener("resize",S),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)),[(et=m.current)==null?void 0:et.offsetWidth,q,window==null?void 0:window.innerWidth]),o.useEffect(()=>{if(p.autoRotate){const n=setInterval(()=>{w(u=>{const _=u+1,f=_>=d.length?0:_;return A({current:{...h.current,index:f},previous:{...h.previous,index:u}}),f})},p.msPerAutoRotate);return()=>clearInterval(n)}},[d]);const S=()=>{q!==(window==null?void 0:window.innerWidth)&&(j(window==null?void 0:window.innerWidth),X(e))},Y=()=>{var g;const n=(g=window==null?void 0:window.location)==null?void 0:g.href,u=!!(sessionStorage!=null&&sessionStorage.getItem("@storybook/manager/store")),_=!!(localStorage!=null&&localStorage.getItem("@storybook/manager/store")),f=(n==null?void 0:n.includes("docs"))||u||_;return B(f)},X=n=>{const u=F(n),_=u.responsive?[...u.responsive.map(g=>g.breakpoint)]:[],f=window==null?void 0:window.innerWidth;if(_.forEach((g,T)=>{var y;if(f<=g){const k=(y=u==null?void 0:u.responsive[T])==null?void 0:y.settings;Object.keys(k).forEach(P=>{u[P]=k[P]})}}),u.verticalAlign){const g={...u,arrows:!1,dots:!1,draggable:!1,fullHeightItems:!1};v(F(g)),J()}else v(F(u)),J()},J=()=>{var U,M,st;tt();const n=bt(I);(U=s.current)==null||U.classList.toggle("spinetic-vertical-align",p.verticalAlign);let u=0,_=0,f=0;I.some($=>{if(_+=$,_<=(s==null?void 0:s.current.offsetWidth))u++;else return $}),f=Math.max(0,o.Children.count(t)-u);let g=r,T=0;const y=$=>{$.forEach((Z,dt)=>{dt<g&&(T+=Z)})};g>f?(g=f,T=n-(s==null?void 0:s.current.offsetWidth)):y(I);const k=Array.from({length:f+1},($,Z)=>Z+u);A({current:{index:0,remainingIndexes:k,totalItems:o.Children.count(t)},previous:{index:0,remainingIndexes:k,totalItems:o.Children.count(t)}}),W(k),((M=h==null?void 0:h.current)==null?void 0:M.remainingIndexes)!==k&&w(0);const P=p.draggable&&(d==null?void 0:d.length)>1;(st=m.current)==null||st.classList.toggle("hasDraggable",P),n<=(s==null?void 0:s.current.offsetWidth)?V(0):V(T)},tt=()=>{var g,T;const n=((g=m.current)==null?void 0:g.querySelectorAll(".spinetic-item"))??null,u=s.current.offsetWidth,_=(T=m.current)==null?void 0:T.offsetHeight,f=[];return n!==null&&n.forEach((y,k)=>{const P=e.autoWidth??!1;if(b?P:p.autoWidth)f.push(y.offsetWidth),y.style.width="";else{const M=b?ft(e.showItems??1):p.showItems;f.push(u/M),y.style.width=u/M+"px"}p.fullHeightItems?window==null||window.requestAnimationFrame(()=>{y.style.height=_+"px"}):y.style.height=""}),L(f),f},A=n=>{G(u=>({previous:{...u.previous,...n.previous},current:{...u.current,...n.current}}))},c=n=>p.clickTransitionCtrl?N&&n:n,i=r>0,E=()=>{if(c(i)){const n=r-1;A({current:{...h.current,index:n},previous:{...h.previous,index:r}}),w(n)}},K=r<(d==null?void 0:d.length)-1,D=()=>{if(c(K)){const n=r+1;A({current:{...h.current,index:n},previous:{...h.previous,index:r}}),w(n)}},R=o.Children.count(t),Q=n=>n>=0&&n<R,O=n=>{c(Q(n))&&(A({current:{...h.current,index:n},previous:{...h.previous,index:r}}),w(n))},V=n=>{m.current.style.transform=`translateX(${n}px)`},C=()=>{x(!1);const n=it(I,r);V(n),setTimeout(()=>{x(!0)},p.msPerClicks)},{start:z,move:ct,end:ut}=Tt({currentConfig:p,remainingIndexes:d,spineticContainer:m,_carouselItemsWidths:I,currentIndex:r,_setCarouselContainerTransform:V,previousItem:E,nextItem:D,_handleItemChange:C});return{currentConfig:p,currentIndex:r,spineticMain:s,spineticContainer:m,maxCarouselItems:R,remainingIndexes:d,goToItem:O,previousItem:E,nextItem:D,start:z,move:ct,end:ut}},Wt=({children:t,config:e,change:a})=>{const{currentConfig:s,currentIndex:m,spineticMain:p,spineticContainer:v,maxCarouselItems:r,remainingIndexes:w,goToItem:d,previousItem:W,nextItem:I,start:L,move:N,end:x}=kt({children:t,config:e,change:a});return at("div",{className:"spinetic-main",ref:p,children:[l("div",{className:"spinetic-wrapper",children:l(It,{currentConfig:s,currentIndex:m,remainingIndexes:w,onClickPreviousItem:W,onClickNextItem:I,children:l("div",{className:"spinetic-container",ref:v,onMouseDown:L,onMouseMove:N,onMouseUp:x,onMouseLeave:x,onTouchStart:L,onTouchMove:N,onTouchEnd:x,children:t})})}),l(St,{currentConfig:s,currentIndex:m,maxCarouselItems:r,remainingIndexes:w,goToItem:d})]})},lt=Wt;try{spinetic.displayName="spinetic",spinetic.__docgenInfo={description:"",displayName:"spinetic",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"TypesConfigOptional"}},change:{defaultValue:null,description:"",name:"change",required:!1,type:{name:"((e: SpineticChangeEvent) => void)"}}}}}catch{}const Et=({children:t})=>l("div",{className:"spinetic-item",children:t});try{spineticitem.displayName="spineticitem",spineticitem.__docgenInfo={description:"",displayName:"spineticitem",props:{}}}catch{}const Ot={title:"Pages/Playground",parameters:{docs:{page:wt,source:{language:"tsx"}}},tags:["autodocs"],component:lt,argTypes:vt},Lt=t=>{const e=mt(t.children);t.change,delete t.children,delete t.change;const a={...t},[s,m]=o.useState({});o.useEffect(()=>{console.log("aaaaaacar",s)},[s]);const p=v=>{m(v)};return l(lt,{config:{...a},change:p,children:e.map((v,r)=>l(Et,{children:l(ht,{highlightText:!1,index:r,text:v})},r))})},H=Lt.bind({});var nt,ot,rt;H.parameters={...H.parameters,docs:{...(nt=H.parameters)==null?void 0:nt.docs,source:{originalSource:`(args: TypesConfigOptional | any) => {
  const childrens = generateItems(args.children);
  const change = args.change;
  delete args.children;
  delete args.change;
  const config = {
    ...args
  };
  const [t, setT] = useState<any>({});
  useEffect(() => {
    console.log("aaaaaacar", t);
  }, [t]);
  const ttt = (e: any) => {
    setT(e);
  };
  return <Spinetic config={{
    ...config
  }} change={ttt}>
      {childrens.map((text: string, index: number) => <SpineticItem key={index}>
          <CardExample highlightText={false} index={index} text={text} />
        </SpineticItem>)}
    </Spinetic>;
}`,...(rt=(ot=H.parameters)==null?void 0:ot.docs)==null?void 0:rt.source}}};const zt=["Default"];export{H as Default,zt as __namedExportsOrder,Ot as default};
